(this["webpackJsonpgraph-explorer-refactors"]=this["webpackJsonpgraph-explorer-refactors"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"o",(function(){return a})),n.d(t,"q",(function(){return r})),n.d(t,"p",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"u",(function(){return l})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"s",(function(){return u})),n.d(t,"t",(function(){return d})),n.d(t,"i",(function(){return h})),n.d(t,"l",(function(){return p})),n.d(t,"n",(function(){return m})),n.d(t,"m",(function(){return g})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return E})),n.d(t,"g",(function(){return b})),n.d(t,"d",(function(){return C})),n.d(t,"w",(function(){return k})),n.d(t,"v",(function(){return O})),n.d(t,"r",(function(){return N})),n.d(t,"c",(function(){return S}));var a={gremlinServerUrlKey:"GREMLIN_SERVER_URL",httpHeadersKey:"HTTP_HEADERS",graphEngineName:"GRAPH_ENGINE"},r=localStorage.getItem(a.gremlinServerUrlKey),o=localStorage.getItem(a.graphEngineName),s=180,l="pre-beta",i="Open source visualiser for exploring knowledge graphs using Invana Engine",c="/connect",u="https://github.com/invanalabs/graph-explorer",d=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))},h="#121212",p="id",m=2,g=15,f="#dddddd",v="#dddddd",y="id",E="#c9c9c9",b=2,C=!1,k="InvanaManagement",O="GRAPH_EXPLORER_HISTORY",N=100,S="https://www.youtube.com/watch?v=SuxC4EH0RCs"},,,function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"i",(function(){return E})),n.d(t,"b",(function(){return b}));var a=n(29),r=n.n(a),o=n(77),s=n(26),l=n(16),i=n(10);new(n(43).a);function c(e,t){return t=t||2,(new Array(t).join("0")+e).slice(-t)}function u(e){var t,n=[],a=Object(l.a)(e.entries());try{for(a.s();!(t=a.n()).done;){var r=Object(s.a)(t.value,2),o=(r[0],r[1]);n.push(o)}}catch(i){a.e(i)}finally{a.f()}return n}function d(e,t){if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)throw new Error("Invalid HEX color.");var n=parseInt(e.slice(0,2),16),a=parseInt(e.slice(2,4),16),r=parseInt(e.slice(4,6),16);return t?.299*n+.587*a+.114*r>186?"#000000":"#FFFFFF":(n=(255-n).toString(16),a=(255-a).toString(16),r=(255-r).toString(16),"#"+c(n)+c(a)+c(r))}function h(e,t){var n=!1;"#"===e[0]&&(e=e.slice(1),n=!0);var a=parseInt(e,16),r=(a>>16)+t;r>255?r=255:r<0&&(r=0);var o=(a>>8&255)+t;o>255?o=255:o<0&&(o=0);var s=(255&a)+t;return s>255?s=255:s<0&&(s=0),(n?"#":"")+(r<<16|o<<8|s).toString(16)}function p(e,t){return t?JSON.parse(localStorage.getItem(e)):localStorage.getItem(e)}function m(e,t){"object"===typeof t&&(t=JSON.stringify(t)),localStorage.setItem(e,t)}function g(){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(r.a.mark((function t(){var n,a,o,s,l,i,c,u,d=arguments;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.length>0&&void 0!==d[0]?d[0]:"",a=d.length>1&&void 0!==d[1]?d[1]:{},o=d.length>2&&void 0!==d[2]?d[2]:{},s=new URL(n),a["Content-Type"]="application/json",a.Accept="application/json",a["Content-Length"]=e.byteLength(JSON.stringify(o)),s.username&&s.password?a.Authorization="Basic "+btoa(s.username+":"+s.password):s.username&&""!==s.password&&(a.Authorization="Token "+s.username),console.log("=====request data",o),l=s.origin+s.pathname,i=null,c={},t.prev=12,t.next=15,fetch(l,{method:"POST",cache:"no-cache",headers:a,body:JSON.stringify(o)});case 15:return u=t.sent,console.log("response========",u),i=u.status,t.prev=18,t.next=21,u.json();case 21:c=t.sent,t.next=27;break;case 24:t.prev=24,t.t0=t.catch(18),console.error("failed to get the json data with error",t.t0);case 27:t.next=33;break;case 29:t.prev=29,t.t1=t.catch(12),console.error("Failed to perform fetch with error ",t.t1),i=999;case 33:return t.abrupt("return",{response:c,transporterStatusCode:i});case 34:case"end":return t.stop()}}),t,null,[[12,29],[18,24]])})))).apply(this,arguments)}function v(e){console.log("redirectToConnectIfNeeded");var t=new URL(window.location.href);if(null!==e&&""!==e||"/connect"===t.pathname)return!0;window.location.href="/connect"}function y(e){console.log("setElementColorOptionsToStorageUsingResponse",e.response.data.filterVertex);var t={},n={};e.response.data.filterVertex.forEach((function(e){t[e.properties.name]=e.properties})),console.log("=======((",t,n),m("nodeLabels",t),m("linkLabels",n)}function E(e){console.log("setElementColorOptionsToStorage",e);var t=p("nodeLabels",!0)||{};t[e.properties.name]=e.properties,m("nodeLabels",t)}function b(){var e;!0===window.confirm("You are about to sign out of the workspace. Your query history will be preserved. Do you want to continue?")&&(e=i.o.gremlinServerUrlKey,localStorage.removeItem(e),window.location.href=i.b)}}).call(this,n(109).Buffer)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(3),r=n(4),o=n(8),s=n(7),l=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"convertVertexPropertyToJson",value:function(e){var t=e[0];if("g:VertexProperty"!==t["@type"])throw new Error("Not a VertexProperty error. check if this is of g:VertexProperty type:: "+JSON.stringify(e));var n={},a=t["@value"].value;return n[t["@value"].label]="string"===typeof a?a:a["@value"],n}},{key:"convertVertex2Json",value:function(e){if("g:Vertex"!==e["@type"])throw new Error("Not a vertex error. check if this is of g:Vertex type:: "+JSON.stringify(e));var t=this,n={type:"g:Vertex"};n.id=e["@value"].id["@value"],n.label=e["@value"].label;var a=e["@value"].properties;return n.properties={},a&&Object.keys(a).forEach((function(e){var r=a[e],o=t.convertVertexPropertyToJson(r);n.properties[e]=o[e]})),n}},{key:"convertEdgePropertyToJson",value:function(e){var t=e;if("g:Property"!==t["@type"])throw new Error("Not a g:Property error. check if this is of g:Property type:: "+JSON.stringify(e));var n={},a=t["@value"].value;return n[t["@value"].key]="string"===typeof a?a:a["@value"],n}},{key:"convertEdge2Json",value:function(e){if("g:Edge"!==e["@type"])throw new Error("Not a edge error. check if this is of g:Edge type:: "+JSON.stringify(e));var t=this,n={type:"g:Edge"};n.label=e["@value"].label,n.id=e["@value"].id["@value"].relationId,n.inV=e["@value"].inV["@value"],n.inVLabel=e["@value"].inVLabel,n.outV=e["@value"].outV["@value"],n.outVLabel=e["@value"].outVLabel,n.source=n.outV,n.target=n.inV;var a=e["@value"].properties;return n.properties={},a&&Object.keys(a).forEach((function(e){var r=a[e],o=t.convertEdgePropertyToJson(r);n.properties[e]=o[e]})),n}},{key:"convertList2Json",value:function(e){if(e&&"@type"in e&&"g:List"!==e["@type"])throw new Error("Not a List error. check if this is of g:List type:: "+JSON.stringify(e));var t=this,n=[];return e&&"@value"in e&&e["@value"].forEach((function(e){t.processItem(e).forEach((function(e){n.push(e)}))})),n}},{key:"convertBulkset2Json",value:function(e){if(e&&"@type"in e&&"g:BulkSet"!==e["@type"])throw new Error("Not a g:BulkSet error. check if this is of g:BulkSet type:: "+JSON.stringify(e));var t=this,n=[];return e&&"@value"in e&&e["@value"].forEach((function(e){t.processItem(e).forEach((function(e){n.push(e)}))})),n}},{key:"convertMap2Json",value:function(e){if(e&&"@type"in e&&"g:Map"!==e["@type"])throw new Error("Not a g:Map error. check if this is of g:Map type:: "+JSON.stringify(e));var t=this,n=[];return e&&"@value"in e&&e["@value"].forEach((function(e){t.processItem(e).forEach((function(e){n.push(e)}))})),n}},{key:"convertPath2Json",value:function(e){if(e&&"@type"in e&&"g:Path"!==e["@type"])throw new Error("Not a g:Path error. check if this is of g:Path type:: "+JSON.stringify(e));var t=this,n=[];return e&&"@value"in e&&("objects"in e["@value"]?e["@value"].objects["@value"].forEach((function(e){t.processItem(e).forEach((function(e){n.push(e)}))})):"labels"in e["@value"]&&e["@value"].labels["@value"].forEach((function(e){t.processItem(e).forEach((function(e){n.push(e)}))}))),n}},{key:"processItem",value:function(e){if(e&&"object"===typeof e&&"@type"in e){if("g:Vertex"===e["@type"])return[this.convertVertex2Json(e)];if("g:Edge"===e["@type"])return[this.convertEdge2Json(e)];if("g:List"===e["@type"])return this.convertList2Json(e);if("g:Path"===e["@type"])return this.convertPath2Json(e);if("g:Set"===e["@type"])throw new Error("@type g:Set serialisation not implemented");return"g:BulkSet"===e["@type"]?this.convertBulkset2Json(e):"g:Map"===e["@type"]?this.convertMap2Json(e):[]}return[]}},{key:"process",value:function(e){return this.convertList2Json(e)}},{key:"separateVerticesAndEdges",value:function(e,t){"undefined"===typeof t&&(t=!0);var n=[],a=[];return e&&e.forEach((function(e){t?"g:Vertex"===e.type&&"InvanaManagement"!==e.label?n.push(e):"g:Edge"===e.type&&"InvanaManagement"!==e.label&&a.push(e):"g:Vertex"===e.type?n.push(e):"g:Edge"===e.type&&a.push(e)})),{nodes:n,links:a}}},{key:"removeMeta",value:function(e){e||(e=[]);var t=[];return e.forEach((function(e){delete e.meta,t.push({type:e.type,label:e.label,id:e.id,properties:e.properties})})),t}},{key:"groupByLabel",value:function(e){var t={};return e.forEach((function(e){e.label in t?t[e.label].push(e):t[e.label]=[e]})),t}}]),n}(n(56).a)},,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(3),r=n(4),o=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"processItem",value:function(e){throw new TypeError("Please implement abstract method processItem. Ignoring",e)}},{key:"convertList2Json",value:function(e){throw new TypeError("Please implement abstract method convertList2Json. Ignoring",e)}},{key:"separateVerticesAndEdges",value:function(e){throw new TypeError("Please implement abstract method separateVerticesAndEdges. Ignoring",e)}},{key:"process",value:function(e){return this.convertList2Json(e)}}]),e}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(158)},,,,,,,,,,function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(76),s=n.n(o),l=n(3),i=n(4),c=n(8),u=n(7),d=n(31),h=n(22),p=n(26),m=n(32),g=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).loaderTimerIntervalId=null,a.state={statusMessage:null,isLoading:!1,loaderElapsedTimer:0,loadingMessage:null,loadingExtraText:null},a}return Object(i.a)(n,[{key:"resetLoader",value:function(){clearInterval(this.loaderTimerIntervalId),this.setState({loadingMessage:null,loadingExtraText:null,isLoading:!1,loaderElapsedTimer:null})}},{key:"setStatusMessage",value:function(e){this.setState({statusMessage:e})}}]),n}(r.a.Component),f=n(10),v=n(13),y=(n(114),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e="loadingDivExplorerView";return"/"===window.location.pathname&&(e="loadingDivFull"),r.a.createElement("div",null,this.props.isLoading?r.a.createElement("div",{className:e},this.props.isConnected2Gremlin?r.a.createElement("h3",null,this.props.loadingMessage):r.a.createElement("h3",null,"Failed to connect to the database."),r.a.createElement("p",null,this.props.loadTimeCounter?r.a.createElement("span",null,"Elapsed ",this.props.loadTimeCounter,"s."):r.a.createElement("span",null)," ",this.props.loadingExtraText),this.props.loadTimeCounter>=f.h?r.a.createElement("span",null,"Strange! this operation took more than"," ",f.h," seconds"):r.a.createElement("span",null),!0===this.props.showSignOut?r.a.createElement("p",null,r.a.createElement("a",{href:"/switch-server"},r.a.createElement("u",null,"switch")," to a different server.")):r.a.createElement("span",null)):r.a.createElement("span",null))}}]),n}(r.a.Component)),E=n(15),b=n.n(E),C=function(){function e(t,n,a,r){Object(l.a)(this,e),this.responseCls=null,this.responsesList=[],this.requestsList=[],console.log("connector constructor"),this.serverUrl=t,this.responseEventsCallback=n,this.responseCallback=a,this.requestBuilder=r}return Object(i.a)(e,[{key:"flushResponses",value:function(){this.responsesList=[]}},{key:"addResponse2List",value:function(e){var t=this.responsesList;t.push(e),this.requestsList=t}},{key:"getLastResponse",value:function(){return this.responsesList[this.responsesList.length-1]}},{key:"getResponses",value:function(){return this.responsesList}},{key:"flushResponseList",value:function(){this.responsesList=[]}},{key:"gatherDataFromStream",value:function(e,t){console.log("onmessage received",e);var n=new this.responseCls(e,t);t>=200&&t<300?206===t?(this.responseEventsCallback({statusMessage:"Gathering data from the stream",statusCode:t,isStreaming:!0}),this.addResponse2List(n)):(this.responseEventsCallback({statusMessage:"Responded to the Query Successfully",statusCode:t,isStreaming:!1}),this.addResponse2List(n),this.responseCallback(n)):(console.log("response===========",e),this.addResponse2List(n),this.responseEventsCallback({statusMessage:"Query Failed with "+t+" error.",statusCode:t,isStreaming:!1}),this.responseCallback(n))}}]),e}(),k=function(){function e(t,n){Object(l.a)(this,e),this.response=t,this.transporterStatusCode=n}return Object(i.a)(e,[{key:"getResponseData",value:function(){throw new TypeError("Please implement abstract method getResponseData.")}},{key:"getResponseResult",value:function(){throw new TypeError("Please implement abstract method getResponseResult.")}},{key:"getStatusCode",value:function(){throw new TypeError("Please implement abstract method getStatusCode.")}},{key:"getError",value:function(){throw new TypeError("Please implement abstract method getStatusCode.")}}]),e}(),O=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"getResponseData",value:function(){return this.getResponseResult().data}},{key:"getResponseResult",value:function(){return this.response.result}},{key:"getStatusCode",value:function(){return this.response.status.code||this.transporterStatusCode}},{key:"getError",value:function(){return this.response.status}}]),n}(k),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).responseCls=O,e}return Object(i.a)(n,[{key:"query",value:function(e){var t={gremlin:e},n=Object(v.d)(f.o.httpHeadersKey,!0)||{},a=this;Object(v.f)(this.serverUrl,n,t).then((function(e){a.gatherDataFromStream(e.response,e.transporterStatusCode)}))}}]),n}(C),S=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e,a,r,o,s,i,c){var u;return Object(l.a)(this,n),(u=t.call(this,e,a,r)).ws=null,u.responseCls=O,u.onOpenCallback=s||u.defaultOnOpenCallback,u.onMessageCallback=i||u.defaultOnMessageCallback,u.onCloseCallback=c||u.defaultOnCloseCallback,u.setIsConnected2Gremlin=o,u}return Object(i.a)(n,[{key:"generateQueryPayload",value:function(e){return{requestId:Object(f.t)(),op:"eval",processor:"",args:{gremlin:e,bindings:{},language:"gremlin-groovy"}}}},{key:"defaultOnOpenCallback",value:function(){console.log("connected"),this.responseEventsCallback({statusMessage:"Connected",isConnected:!0})}},{key:"defaultOnMessageCallback",value:function(e){var t=JSON.parse(e.data);console.log("onmessage",t),this.gatherDataFromStream(t,t.status.code)}},{key:"defaultOnCloseCallback",value:function(e){3001!==e.code&&console.log("ws connection error"),this.setIsConnected2Gremlin(!1)}},{key:"connect",value:function(){this.setupWebSocket()}},{key:"createWebSocket",value:function(){return new WebSocket(this.serverUrl)}},{key:"reconnectWithWS",value:function(){this.ws=this.createWebSocket(),this.connect()}},{key:"setupWebSocket",value:function(){var e=this,t=this;console.log("setupWebSocket triggered==========================="),this.ws.onopen=function(){t.onOpenCallback()},this.ws.onmessage=function(e){t.onMessageCallback(e)},this.ws.onclose=function(t){console.log("disConnected2Gremlin"),e.onCloseCallback(t)}}},{key:"query",value:function(e){var t=this.generateQueryPayload(e),n=JSON.stringify(t);console.log("Query long one",n);var a=this;1===this.ws.readyState?(a.ws.send(n,{mask:!0}),this.responseEventsCallback({statusMessage:"Querying..."})):a.ws.onopen=function(){a.ws.send(n,{mask:!0}),this.responseEventsCallback({statusMessage:"Querying..."})}}}]),n}(C),L=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"getResponseData",value:function(){return this.getResponseResult()}},{key:"getResponseResult",value:function(){return this.response.data?this.response.data[Object.keys(this.response.data)[0]]:[]}},{key:"getStatusCode",value:function(){return this.transporterStatusCode}},{key:"getError",value:function(){return this.response.errors&&this.response.errors.length>0?this.response.errors[0].message:null}}]),n}(k),D=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).responseCls=L,e}return Object(i.a)(n,[{key:"query",value:function(e){var t=Object(v.d)(f.o.httpHeadersKey,!0)||{},n=this;Object(v.f)(this.serverUrl,t,e).then((function(e){console.log("InvanaEngineHTTPConnector",e),n.gatherDataFromStream(e.response,e.transporterStatusCode)}))}}]),n}(C),w=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"initQuery",value:function(){throw new TypeError("Please implement abstract method initQuery.")}},{key:"rawQuery",value:function(e){return e}},{key:"getOutEdgeVertices",value:function(e){throw new TypeError("Please implement abstract method getOutEdgeVertices.")}},{key:"getInEdgeVertices",value:function(e){throw new TypeError("Please implement abstract method getInEdgeVertices.")}},{key:"managementGetVertexLabelStats",value:function(e,t){throw new TypeError("Please implement abstract method managementGetVertexLabelStats.")}},{key:"managementGetEdgeLabelStats",value:function(e,t){throw new TypeError("Please implement abstract method managementGetEdgeLabelStats.")}}]),e}(),T=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"initQuery",value:function(){return"g.V().limit(10).toList()"}},{key:"getOutEdgeVertices",value:function(e){return console.log("===vertexId",e),"node=g.V("+e+").toList(); edges = g.V("+e+").inE().dedup().toList(); other_nodes = g.V("+e+").inE().otherV().dedup().toList();[other_nodes,edges,node]"}},{key:"getInEdgeVertices",value:function(e){return console.log("===vertexId",e),"node=g.V("+e+").toList(); edges = g.V("+e+").outE().dedup().toList(); other_nodes = g.V("+e+").outE().otherV().dedup().toList();[other_nodes,edges,node]"}}]),n}(w),x=n(43),R=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"processItem",value:function(e){return e}},{key:"convertEdge2Json",value:function(e){return e.source=e.outV,e.target=e.inV,e}},{key:"separateVerticesAndEdges",value:function(e,t){"undefined"===typeof t&&(t=!0);var n=[],a=[];e||(e=[]);var r=this;return e.forEach((function(e){t?"g:Vertex"===e.type&&"InvanaManagement"!==e.label?n.push(e):"g:Edge"===e.type&&"InvanaManagement"!==e.label&&a.push(r.convertEdge2Json(e)):"g:Vertex"===e.type?n.push(e):"g:Edge"===e.type&&a.push(r.convertEdge2Json(e))})),{nodes:n,links:a}}},{key:"convertList2Json",value:function(e){return e}}]),n}(n(56).a),j=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"getOrCreateVertices",value:function(e,t){return{query:'{getOrCreateVertex(label:"'+e+'", properties: '+JSON.stringify(JSON.stringify(t))+"){id,type,label,properties}}"}}},{key:"updateVertexById",value:function(e,t){return{query:"mutation{updateVertexById(id: "+e+", properties: "+JSON.stringify(JSON.stringify(t))+"){id,type,label,properties}}"}}},{key:"getOutEdgeVertices",value:function(e){return{query:"{getOutEdgesAndVertices(id:"+JSON.stringify(e)+"){id,type,label,properties, inV, inVLabel, outV, outVLabel}}"}}},{key:"getInEdgeVertices",value:function(e){return{query:"{getInEdgesAndVertices(id:"+JSON.stringify(e)+"){id,type,label,properties, inV, inVLabel, outV, outVLabel}}"}}},{key:"getVerticesLabelStats",value:function(){return{query:"{getVerticesLabelStats{label, count}}"}}},{key:"getEdgesLabelStats",value:function(){return{query:"{getEdgesLabelStats{label, count}}"}}},{key:"initQuery",value:function(){return{query:"{filterVertex(limit: 10){id,type,label,properties, inV, inVLabel, outV, outVLabel}}"}}},{key:"filterVertices",value:function(e,t,n){var a="";return e&&(a+='label: "'+e+'",'),t&&(a+="limit: "+t+","),n&&(a+="skip: "+n),{query:"{filterVertex("+(a=a.replace(/,\s*$/,""))+"){id,type,label,properties}}"}}},{key:"getNeighborEdgesAndVertices",value:function(e,t,n){var a="";return e&&(a+='label: "'+e+'",'),t&&(a+="limit: "+t+","),n&&(a+="skip: "+n),{query:"{getNeighborEdgesAndVertices("+(a=a.replace(/,\s*$/,""))+"){id,type,label,properties, inV, inVLabel, outV, outVLabel}}"}}},{key:"filterEdges",value:function(e,t,n){var a="";return e&&(a+='label: "'+e+'",'),t&&(a+="limit: "+t+","),n&&(a+="skip: "+n),{query:"{filterEdge("+(a=a.replace(/,\s*$/,""))+"){id,type,label,properties, inV, inVLabel, outV, outVLabel}}"}}},{key:"filterEdgeAndGetNeighborVertices",value:function(e,t,n){var a="";return e&&(a+='label: "'+e+'",'),t&&(a+="limit: "+t+","),n&&(a+="skip: "+n),{query:"{filterEdgeAndGetNeighborVertices("+(a=a.replace(/,\s*$/,""))+"){id,type,label,properties, inV, inVLabel, outV, outVLabel}}"}}},{key:"rawQuery",value:function(e){return{query:"{rawQuery(gremlin:"+JSON.stringify(e)+"){id,type,label,properties, inV, inVLabel, outV, outVLabel}}"}}}]),n}(w),I=n(83),A=n(16),V=n(25),_=n(64),M=new(n(117))({hue:[{min:120,max:190},{min:120,max:190},{min:120,max:190}]});function H(e){return M.hex(e)}var G=function(e){return parseInt(e.slice(1),16)};function P(e,t){return"boolean"===typeof t?t.toString():null===t?"None":t}function F(e,t){e.meta.labelOptions||(e.meta.labelOptions={}),"undefined"===typeof e.meta.labelOptions.showLabel&&(e.meta.labelOptions.showLabel=f.d);var n=null;return e.meta.shapeOptions&&e.meta.shapeOptions.labelPropertyKey&&(n=e.properties[e.meta.shapeOptions.labelPropertyKey]),n||!0!==t||(n=e.id),e.meta.labelOptions.labelText=n,e.meta.labelOptions.labelColor||(e.meta.labelOptions.labelColor=G(t?f.k:f.e)),e}function B(e,t){var n={};try{n=t[e]}catch(a){n={}}return n||(n={}),n}var U=function(){function e(){Object(l.a)(this,e),this.focusedNodes=[],Object.defineProperty(this,q,{writable:!0,value:new Map}),Object.defineProperty(this,Q,{writable:!0,value:new Map}),this.linkGraphicsArray=[],this.linkLabelGraphicsArray=[],this.verticesStats=new Map,this.edgesStats=new Map,this.verticesToRender=[],this.edgesToRender=[],this.verticesAlreadyRendered=[],this.edgesAlreadyRendered=[],this.vertexOptions=new Map,this.edgeOptions=new Map,this.edgeUniqueStringDelimiter="=====",this.schema=new Map,this.resetData()}return Object(i.a)(e,[{key:"getUniqueFocusedNodes",value:function(){var e=Object.assign([],this.focusedNodes),t={};e.forEach((function(e){t[e.id]=e}));var n=Object.values(t);return console.log("=========uniqueNodes==>>",n),n}},{key:"checkIfVertexExist",value:function(e){return!!Object(V.a)(this,q)[q].get(e)}},{key:"checkIfEdgeExist",value:function(e){return!!Object(V.a)(this,Q)[Q].get(e)}},{key:"addVertexToDataSet",value:function(e){Object(V.a)(this,q)[q].set(e.id,e)}},{key:"addEdgeToDataSet",value:function(e){Object(V.a)(this,Q)[Q].set(e.id,e)}},{key:"searchNodeByNodeLabelTextOrId",value:function(e){console.log("searchNodeByNodeLabelTextOrId",e,Number.isInteger(e));var t,n=[],a=parseInt(e),r=e.toString(),o=Object(A.a)(Object(V.a)(this,q)[q].entries());try{for(o.s();!(t=o.n()).done;){var s=Object(p.a)(t.value,2),l=s[0],i=s[1];if(r===l||a===l)n.push(i);else if(i.meta.labelOptions.labelText){i.meta.labelOptions.labelText.toString().toLowerCase().includes(r)&&n.push(i)}}}catch(c){o.e(c)}finally{o.f()}return n}},{key:"computeDataDistributionStats",value:function(){var e=this;this.verticesStats=new Map,this.edgesStats=new Map,Object(v.c)(Object(V.a)(this,q)[q]).forEach((function(t){var n=e.verticesStats.get(t.label);e.verticesStats.get(t.label)?e.verticesStats.set(t.label,n+1):e.verticesStats.set(t.label,1)})),Object(v.c)(Object(V.a)(this,Q)[Q]).forEach((function(t){var n=e.edgesStats.get(t.label);e.edgesStats.get(t.label)?e.edgesStats.set(t.label,n+1):e.edgesStats.set(t.label,1)}))}},{key:"addVertexToSchema",value:function(e){this.schema.get(e.label)||this.schema.set(e.label,[])}},{key:"checkIfEdgeExistInSchema",value:function(e,t){return e.includes(t)}},{key:"generateEdgeUniqueString",value:function(e){return e.outVLabel+this.edgeUniqueStringDelimiter+e.inVLabel+this.edgeUniqueStringDelimiter+e.label}},{key:"addEdgeToSchema",value:function(e){var t=this.generateEdgeUniqueString(e),n=this.schema.get(e.inVLabel),a=this.schema.get(e.outVLabel);n&&!this.checkIfEdgeExistInSchema(n,t)&&(n.push(t),this.schema.set(e.inVLabel,n)),a&&!this.checkIfEdgeExistInSchema(a,t)&&(a.push(t),this.schema.set(e.outVLabel,a))}},{key:"getVertexSchema",value:function(e){var t=this,n=this.schema.get(e),a=[],r=[];return n.map((function(n){var o=n.split(t.edgeUniqueStringDelimiter),s=Object(p.a)(o,3),l=s[0],i=s[1],c=s[2];l===e?r.includes(l)||r.push(c):i===e&&(a.includes(i)||a.push(c))})),{inE:a,outE:r}}},{key:"addToVertexOptions",value:function(e){this.vertexOptions.get(e.label)||this.vertexOptions.set(e.label,e.meta)}},{key:"getVertexOptions",value:function(e){return this.vertexOptions.get(e)}},{key:"getEdgeOptions",value:function(e){return this.edgeOptions.get(e)}},{key:"addToEdgeOptions",value:function(e){this.edgeOptions.get(e.label)||this.edgeOptions.set(e.label,e.meta)}},{key:"addData",value:function(e,t,n){for(var a in e){var r=e[a];this.checkIfVertexExist(r.id)||this.addVertexToDataSet(r),this.addVertexToSchema(r),this.addToVertexOptions(r)}for(var o in t){var s=t[o];this.checkIfEdgeExist(s.id)||this.addEdgeToDataSet(s),this.checkIfVertexExist(s.inV)||this.addVertexToDataSet({id:s.inV,label:s.inVLabel,type:"g:Vertex",properties:{}}),this.checkIfVertexExist(s.outV)||this.addVertexToDataSet({id:s.outV,label:s.outVLabel,type:"g:Vertex",properties:{}}),this.addEdgeToSchema(s),this.addToEdgeOptions(s)}this.computeDataDistributionStats(),n&&n()}},{key:"getAllData",value:function(){return{vertices:Object(V.a)(this,q)[q],edges:Object(V.a)(this,Q)[Q]}}},{key:"setDataToRender",value:function(e,t){console.log("=====setDataToRender triggered",e.length,t.length),this.verticesToRender=e,this.edgesToRender=t}},{key:"getDataToRender",value:function(){var e=this.verticesToRender.map((function(e){return[e.id,e]})),t=new Map(e),n=Array.from(t.values()),a=this.edgesToRender.map((function(e){return[e.id,e]})),r=new Map(a);return{verticesToRender:n,edgesToRender:Array.from(r.values())}}},{key:"checkIfNodeIsInVorOutV",value:function(e,t){return e.inV===t.id?"inV":e.outV===t.id?"outV":void 0}},{key:"getNodeBasicInfo",value:function(e){return{id:e.id,labelText:e.meta.labelOptions.labelText,label:e.label,fillColorHex:e.meta.shapeOptions.fillColorHex}}},{key:"groupLinksToInEAndOutEByLabel",value:function(e,t){var n={},a={},r=this;return e.forEach((function(e){var o=r.checkIfNodeIsInVorOutV(e,t);"inV"===o?e.label in n?n[e.label].vertices.push(r.getNodeBasicInfo(e.source)):n[e.label]={edgeFillColorHex:e.meta.shapeOptions.strokeColorHex,vertices:[r.getNodeBasicInfo(e.source)]}:"outV"===o&&(e.label in a?a[e.label].vertices.push(r.getNodeBasicInfo(e.target)):a[e.label]={edgeFillColorHex:e.meta.shapeOptions.strokeColorHex,vertices:[r.getNodeBasicInfo(e.target)]})})),{inVGroups:n,outVGroups:a}}},{key:"determineAllDataToRender",value:function(){var e=this;console.log("=====getDataToRender triggered");var t=this.getAllRawVerticesList(),n=this.getAllRawEdgesList(),a=this;t.map((function(t){var n=e.getNeighborNodesAndLinks([t]),r=a.groupLinksToInEAndOutEByLabel(n.links,t),o=r.inVGroups,s=r.outVGroups;t.inData=o,t.outData=s}));var r={newVerticesToRender:t,newEdgesToRender:n},o=r.newVerticesToRender,s=r.newEdgesToRender;return console.log("======newVerticesToRender, newEdgesToRender",o,s),{verticesToRender:o,edgesToRender:s}}},{key:"getVerticesCount",value:function(){return Object(V.a)(this,q)[q].size}},{key:"checkIfShouldBeConvertedToGraphics",value:function(){}},{key:"resetData",value:function(){Object(V.a)(this,q)[q]=new Map,Object(V.a)(this,Q)[Q]=new Map,this.linkGraphicsArray=[],this.linkLabelGraphicsArray=[]}},{key:"prepareNodes",value:function(e){return function(e,t){"undefined"===typeof t?t={}:"string"===typeof t&&(t=JSON.parse(t));var n=[];return e.forEach((function(e){var a=e,r=B(a.label,t);a.meta={bgImageUrl:null,nodeShape:"circle"},a.meta.bgImagePropertyKey=r.bgImagePropertyKey,a.meta.shapeOptions||(a.meta.shapeOptions={}),a.meta.shapeOptions.radius||(a.meta.shapeOptions.radius=f.m),a.meta.shapeOptions.radiusBuffered||(a.meta.shapeOptions.radiusBuffered=f.m+5),a.meta.shapeOptions.strokeWidth||(a.meta.shapeOptions.strokeWidth=f.n),a.meta.shapeOptions.strokeColor||(a.meta.shapeOptions.strokeColor=r.borderColor?G(r.borderColor):G(Object(v.a)(H(a.label),-40))),a.meta.shapeOptions.fillColor||(a.meta.shapeOptions.fillColor=r.bgColor?G(r.bgColor):G(H(a.label))),a.meta.shapeOptions.fillColorHex||(a.meta.shapeOptions.fillColorHex=r.bgColor?r.bgColor:H(a.label)),a.meta.shapeOptions.labelColor||(a.meta.shapeOptions.labelColor=f.j),a.meta.shapeOptions.labelPropertyKey||(a.meta.shapeOptions.labelPropertyKey=r.labelPropertyKey||f.l),(a=F(a,!0)).meta.tagOptions||(a.meta.tagOptions={}),r.tagHtml&&(a.meta.tagOptions.tagHtml=r.tagHtml),a.meta.bgImagePropertyKey&&(a.meta.bgImageUrl=a.properties[a.meta.bgImagePropertyKey]),a.meta.bgImageUrl||(a.meta.bgImageUrl=r.bgImageUrl),a.target&&delete a.target,a.source&&delete a.source,n.push(a)})),n}(e,Object.assign({},JSON.parse(localStorage.getItem("nodeLabels"))))}},{key:"getAllRawVerticesList",value:function(){return this.prepareNodes(Object(v.c)(Object(V.a)(this,q)[q]))}},{key:"getAllRawEdgesList",value:function(){var e=Object.assign({},JSON.parse(localStorage.getItem("nodeLabels")));return function(e,t){return"undefined"===typeof t?t={}:"string"===typeof t&&(t=JSON.parse(t)),e.forEach((function(e){var n=B(e.label,t);e.meta={},e.meta.shapeOptions||(e.meta.shapeOptions={}),(e=F(e,!1)).meta.shapeOptions.strokeWidth||(e.meta.shapeOptions.strokeWidth=f.g),e.meta.shapeOptions.strokeColor||(e.meta.shapeOptions.strokeColor=G(H(e.label))),e.meta.shapeOptions.strokeColorHex||(e.meta.shapeOptions.strokeColorHex=H(e.label)),e.meta.shapeOptions.labelColor||(e.meta.shapeOptions.labelColor=f.j),e.meta.shapeOptions.labelPropertyKey||(e.meta.shapeOptions.labelPropertyKey=n.labelPropertyKey||f.f)})),e}(function(e){if(e.forEach((function(t){var n=e.filter((function(e){return e.source===t.source&&e.target===t.target})),a=e.filter((function(e){return e.source===t.target&&e.target===t.source})),r=n.concat(a);r.forEach((function(e,t){e.sameIndex=t+1,e.sameTotal=r.length,e.sameTotalHalf=e.sameTotal/2,e.sameUneven=e.sameTotal%2!==0,e.sameMiddleLink=!0===e.sameUneven&&Math.ceil(e.sameTotalHalf)===e.sameIndex,e.sameLowerHalf=e.sameIndex<=e.sameTotalHalf,e.sameArcDirection=e.sameLowerHalf?0:1,e.sameIndexCorrected=e.sameLowerHalf?e.sameIndex:e.sameIndex-Math.ceil(e.sameTotalHalf)}))})),e.sort((function(e,t){return e.sameTotal<t.sameTotal?-1:e.sameTotal>t.sameTotal?1:0})),e.length>0){var t=e[e.length-1].sameTotal;e.forEach((function(n,a){e[a].maxSameHalf=Math.round(t/3)}))}return e.map((function(e){var t=e;return t.source=e.source,t.target=e.target,t}))}(Object(v.c)(Object(V.a)(this,Q)[Q])),e)}},{key:"getAlreadyRenderedData",value:function(){return{verticesAlreadyRendered:this.verticesAlreadyRendered,edgesAlreadyRendered:this.edgesAlreadyRendered}}},{key:"setAlreadyRenderedData",value:function(e,t){this.verticesAlreadyRendered=e,this.edgesAlreadyRendered=t}},{key:"getNeighborNodesAndLinksOfNode",value:function(e){var t=[],n=[];return this.getAllRawEdgesList().forEach((function(a){a.target.id===e?(n.push(a),t.push(a.source)):a.source.id===e&&(n.push(a),t.push(a.target))})),{nodes:t,links:n}}},{key:"getNeighborNodesAndLinks",value:function(e){var t=[],n=[];return this.getAllRawEdgesList().forEach((function(a){e.forEach((function(e){a.target.id===e.id?(n.push(a),t.push(a.source)):a.source.id===e.id&&(n.push(a),t.push(a.target))}))})),{nodes:t,links:n}}},{key:"getNotNeighborLinks",value:function(e){var t=[],n=[],a=this.getNeighborNodesAndLinks(e),r=a.nodes,o=a.links;return r.push.apply(r,Object(I.a)(e)),this.getAllRawVerticesList().forEach((function(e){r.includes(e)||n.push(e)})),this.getAllRawEdgesList().forEach((function(e){o.includes(e)||t.push(e)})),console.log("=====notNeighborNodes",n,t),{notNeighborLinks:t,notNeighborNodes:n}}},{key:"removeAllNodes2Focus",value:function(){this.focusedNodes=[]}},{key:"checkIfVertexExistInFocused",value:function(e){return this.focusedNodes.forEach((function(t){if(console.log("======checkIfVertexExistInFocused node, nodeData",t.id,e.id),e.id===t.id)return!0})),!1}},{key:"addNode2Focus",value:function(e){!1===this.checkIfVertexExistInFocused(e)&&this.focusedNodes.push(e)}},{key:"removeNodeFromFocus",value:function(e){var t=this.getUniqueFocusedNodes(),n=null;t.forEach((function(t,a){if(t.id===e)return n=a,a})),t.splice(n,1),this.focusedNodes=t}},{key:"getEdgesCount",value:function(){return Object(V.a)(this,Q)[Q].size}},{key:"getEdge",value:function(e){return Object(V.a)(this,Q)[Q].get(e)}},{key:"getVertex",value:function(e){return Object(V.a)(this,q)[q].get(e)}}]),e}(),q=Object(_.a)("vertices"),Q=Object(_.a)("edges"),K=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).queryStartedAt=null,a.queryEndedAt=null,a.ws=null,a.state=Object(m.a)(Object(m.a)({},a.state),{},{isConnected2Gremlin:null,query:null,isStreaming:null}),a.checkIfGremlinUrlIsValid()&&(a.connector=a.connect()),a.checkIfGraphEngineIsValid()&&"invana-engine"===a.props.graphEngine?a.responseSerializer=new R:a.responseSerializer=new x.a,a.dataStore=new U,a}return Object(i.a)(n,[{key:"checkIfGremlinUrlIsValid",value:function(){return!!this.props.gremlinUrl}},{key:"checkIfGraphEngineIsValid",value:function(){return!!this.props.graphEngine}},{key:"connect",value:function(){var e=this.getProtocol(),t=null;t="invana-engine"===this.props.graphEngine?D:"ws"===e?S:N;var n=new T;return this.checkIfGraphEngineIsValid()&&"invana-engine"===this.props.graphEngine&&(n=new j),new t(this.props.gremlinUrl,this.responseEventsCallback.bind(this),this.onResponseCallback.bind(this),n)}},{key:"getProtocol",value:function(){return this.props.gremlinUrl?new URL(this.props.gremlinUrl).protocol.includes("ws")?"ws":"http":null}},{key:"setIsConnected2Gremlin",value:function(e){console.log("setIsConnected2Gremlin",e),this.setState({isConnected2Gremlin:e})}},{key:"componentDidMount",value:function(){if(console.log("gremlin-component componentDidMount"),Object(v.g)(this.props.gremlinUrl)){var e=this.getProtocol();if(console.log("We will be using "+e+" protocol"),"ws"===e)try{this.connector.reconnectWithWS()}catch(t){console.error("Failed to connect to websocket",t),window.location.href="/connect?error=Failed to connect. WebSocket connections are not supported at the moment."}else console.log("protocol will be "+e)}}},{key:"componentWillUnmount",value:function(){console.log("gremlin-component componentWillUnmount triggered")}},{key:"flushCanvas",value:function(){this.setState({shallReRenderD3Canvas:!0,selectedElementData:null,middleBottomContentName:null}),this.dataStore.resetData(),this.connector.flushResponses()}},{key:"setIsStreaming",value:function(e){this.setState({isStreaming:e})}},{key:"setstatusCode",value:function(e){this.setState({statusCode:e})}},{key:"eventTranslator",value:function(e,t){console.log("===eventName",e,t),"statusMessage"===e?this.setStatusMessage(t):"statusCode"===e?this.setstatusCode(t):"isStreaming"===e?this.setIsStreaming(t):"errorMessage"===e?this.setErrorMessage(t):"isConnected"===e?this.setIsConnected2Gremlin(t):this.setState({eventName:t})}},{key:"responseEventsCallback",value:function(e){console.log("received event",e);for(var t=0,n=Object.entries(e);t<n.length;t++){var a=Object(p.a)(n[t],2),r=a[0],o=a[1];this.eventTranslator(r,o)}}},{key:"onResponseCallback",value:function(e){this.queryEndedAt=new Date,this.resetLoader(),this.processResponse(e)}},{key:"setErrorMessage",value:function(e){e?this.setState({errorMessage:e,bottomContentName:"error-console"}):this.setState({errorMessage:null,bottomContentName:null})}},{key:"addQueryToState",value:function(e){console.log("======addQueryToState",e),this.setState({query:e})}},{key:"setQueryToUrl",value:function(e){console.log("===setQueryToUrl",e)}},{key:"addQueryToHistory",value:function(e,t){var n=Object(v.d)(f.v,!0)||[];(n=n.slice(0,f.r)).unshift({query:e,source:t,dt:new Date}),Object(v.h)(f.v,n)}},{key:"makeQuery",value:function(e,t){"undefined"===typeof t&&(t={}),"undefined"===typeof t.source&&(t.source="internal"),t.source&&this.addQueryToHistory(e,t.source),this.setState({statusMessage:"Querying..."}),console.log("makeQuery :::  query",JSON.stringify(e)),e&&(this.queryStartedAt=new Date,this.queryEndedAt=new Date,this.connector.query(e))}},{key:"render",value:function(){return r.a.createElement(y,{loadingMessage:this.state.loadingMessage,isConnected2Gremlin:this.state.isConnected2Gremlin,loadingExtraText:this.state.loadingExtraText,isLoading:this.state.isLoading,showSignOut:!0,loadTimeCounter:this.state.loaderElapsedTimer})}}]),n}(g);K.defaultProps={gremlinUrl:f.q,graphEngine:f.p,parentGraphComponent:null},K.propTypes={gremlinUrl:b.a.string,graphEngine:b.a.string,parentGraphComponent:b.a.object};var J=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){Object(d.a)(Object(h.a)(n.prototype),"componentDidMount",this).call(this);var e=this;console.log("=_this.connector.requestBuilder.initQuery()",e.connector.requestBuilder.initQuery()),setTimeout((function(){e.makeQuery(e.connector.requestBuilder.filterVertices(f.w,50),{source:"internal"})}),200)}},{key:"processResponse",value:function(e){console.log("processResponse received",e);var t=e.transporterStatusCode;t>=200&&t<300?(Object(v.j)(e),window.location.href="/explorer"):(window.location.href="/connect?error=Failed to connect&transporterStatus="+t,this.setState({errorMessage:JSON.stringify(e),showErrorMessage:!0,statusMessage:"Query Successfully Responded. But returned non 200 status["+e.status.code+"]"}))}},{key:"render",value:function(){return Object(d.a)(Object(h.a)(n.prototype),"render",this).call(this)}}]),n}(K),W=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).responseSessions=[],a.requests=[],a.state=Object(m.a)(Object(m.a)({},a.state),{},{leftContentName:null,rightContentName:null,bottomContentName:null,middleBottomContentName:null,middleTopContentName:"vertices-management"}),a}return Object(i.a)(n,[{key:"setLeftContent",value:function(e){this.setState({leftContentName:e})}},{key:"setRightContentName",value:function(e){this.setState({rightContentName:e})}},{key:"setBottomContentName",value:function(e){this.setState({bottomContentName:e})}},{key:"setMiddleBottomContentName",value:function(e){this.setState({middleBottomContentName:e})}},{key:"setMiddleTopContentName",value:function(e){this.setState({middleTopContentName:e})}}]),n}(function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state=Object(m.a)(Object(m.a)({},a.state),{},{canvasType:"graph",selectedElementData:null,selectedLabel:null,selectedLabelType:null,query:null}),a}return Object(i.a)(n,[{key:"setSelectedElementData",value:function(e){console.log("=====selectedData",e),this.setState({selectedElementData:e})}},{key:"extendGraph",value:function(e){console.log("extending the graph data .");var t=this,n=t.responseSerializer.process(e.getResponseData()),a=t.responseSerializer.separateVerticesAndEdges(n),r=a.nodes,o=a.links;console.log("extending graph=========",Object.assign(r,{}),Object.assign(o,{})),this.dataStore.addData(r,o,(function(){t.setState({shallReRenderD3Canvas:!0})}))}},{key:"processResponse",value:function(e){console.log("processResponse",e),this.extendGraph(e),this.reRenderCanvas()}},{key:"reRenderCanvas",value:function(){console.log("reRenderCanvas"),this.resetShallReRenderD3Canvas()}},{key:"setHideVertexOptions",value:function(){this.setState({selectedLabel:null,selectedLabelType:null,middleBottomContentName:null})}},{key:"setShowVertexOptions",value:function(e,t){console.log("setShowVertexOptions",e,t),this.setState({selectedLabel:e,selectedLabelType:t,middleBottomContentName:"vertex-options"})}},{key:"componentDidMount",value:function(){Object(d.a)(Object(h.a)(n.prototype),"componentDidMount",this).call(this)}},{key:"resetShallReRenderD3Canvas",value:function(){console.log("======resetShallReRenderD3Canvas",this.state.shallReRenderD3Canvas),this.setState({shallReRenderD3Canvas:!1})}},{key:"setShallReRenderD3Canvas",value:function(e){this.setState({shallReRenderD3Canvas:e})}}]),n}(K)),z=(n(119),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},this.props.children)}}]),n}(r.a.Component)),Y=(n(120),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("ul",{className:this.props.type+"-list list",style:this.props.style},this.props.children)}}]),n}(r.a.Component));Y.defaultProps={type:"default"};var X=n(11),Z=n(12),$=(n(123),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return!0===this.props.isConnected2Gremlin?r.a.createElement("span",{className:"connectionIndicator connected"}):!1===this.props.isConnected2Gremlin?r.a.createElement("span",{className:"connectionIndicator notConnected"}):r.a.createElement("span",{className:"connectionIndicator unknownStatus"})}}]),n}(r.a.Component));$.defaultProps={isConnected2Gremlin:null};n(124);var ee=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},this.props.children)}}]),n}(r.a.Component),te=(n(125),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-content"},this.props.children)}}]),n}(r.a.Component)),ne=(n(126),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"aside-left "+this.props.extraClass},this.props.children)}}]),n}(r.a.Component));ne.defaultProps={extraClass:""};n(127);var ae=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ge-panel"},r.a.createElement("div",{className:"ge-panel-header",style:this.props.headerStyle},r.a.createElement("h4",null,this.props.title),r.a.createElement("div",{className:"ge-panel-options"},r.a.createElement(Y,null,this.props.showToggleBtn?r.a.createElement("li",null,r.a.createElement("button",{style:this.props.headerStyle,onClick:function(){return e.props.onClickToggle()}},r.a.createElement(X.a,{icon:Z.C}))):r.a.createElement("span",null),this.props.showCloseBtn?r.a.createElement("li",null,r.a.createElement("button",{style:this.props.headerStyle,onClick:function(){return e.props.onClickClose()}},r.a.createElement(X.a,{icon:Z.B}))):r.a.createElement("span",null)))),r.a.createElement("div",{className:"ge-panel-body"},this.props.children))}}]),n}(r.a.Component);ae.defaultProps={title:null,onClickToggle:function(){return console.error("onClickToggle prop not added to GUIPanel")},onClickClose:function(){return console.error("onCickClose prop not added to GUIPanel")},showCloseBtn:!0,showToggleBtn:!0,headerStyle:null,bodyStyle:null};n(128);var re=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-content-middle"},this.props.children)}}]),n}(r.a.Component),oe=(n(129),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-content-right "+this.props.extraClass},this.props.children,r.a.createElement("div",null,this.props.secondaryChild))}}]),n}(r.a.Component));oe.defaultProps={extraClass:""};n(130);var se=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"aside-bottom "+this.props.extraClass},this.props.children)}}]),n}(r.a.Component);se.defaultProps={extraClass:""};n(131);var le=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},this.props.children)}}]),n}(r.a.Component),ie=(n(132),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"lg"===this.props.size?"aside-right aside-right-lg":"aside-right"},this.props.children)}}]),n}(r.a.Component)),ce=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"connectionStringWithoutCreds",value:function(){var e=new URL(f.q);return e.protocol+"//"+e.host+e.pathname}},{key:"showCredentials",value:function(){var e=document.getElementById("connection-string").style.display;document.getElementById("connection-string").style.display="none"===e?"inline-block":"none"}},{key:"render",value:function(){return r.a.createElement("div",{className:"p-10"},r.a.createElement("p",{className:"mb-10"},r.a.createElement("strong",null,"Graph Engine Name:")," ",r.a.createElement("br",null),r.a.createElement("span",null,f.p)),r.a.createElement("p",{className:"mb-0"},r.a.createElement("strong",null,"Connection String: ")," ",r.a.createElement("br",null),r.a.createElement("span",null,this.connectionStringWithoutCreds())),r.a.createElement("p",null,r.a.createElement("button",{id:"connectionStringBtn",onClick:this.showCredentials.bind(this),className:"selected"},r.a.createElement("small",null,"show full connection string(toggle)"))),r.a.createElement("p",{id:"connection-string",style:{display:"none"}},f.q),r.a.createElement("p",null),r.a.createElement("button",{className:"button small",onClick:function(){return Object(v.b)()},title:"Switch Server"},"switch gremlin server ",r.a.createElement(X.a,{icon:Z.u})))}}]),n}(r.a.Component);ce.defaultProps={setLeftFlyOut:function(){return console.error("setCenterModal prop not set for SettingsFlyOut")}};n(133);var ue=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"p-10"},r.a.createElement("p",null,"Learn how to use gremlin queries to create a simple graph. I will illustrate simple data story of me and the project using Graph databases for a starter."),r.a.createElement(Y,{type:"vertical"},r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return e.props.addQueryToConsole("// Adding data of type `Person`\n\nperson = g.addV('Person')\n.property('name', 'Ravi Raja')\n.iterate();\n\n// Adding data of type `GitHubProject`\n\nproject = g.addV('GitHubProject')\n.property('name', 'Graph Explorer')\n.iterate();\n\n// show the results back\nnodes = g.V().limit(2).toList();")}},"1. Add a ",r.a.createElement("strong",null,"Person")," and ",r.a.createElement("strong",null,"GitHubProject")," nodes")),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return e.props.addQueryToConsole("// this will update existing property `name` and adds a new properties`full_name` and `profile_pic`.\n\ng\n.V()\n.hasLabel('Person')\n.has('name', 'Ravi Raja')\n.property('name', 'rrmerugu')\n.property('full_name', 'Ravi Raja Merugu')\n.property('profile_pic', 'https://avatars1.githubusercontent.com/u/4606947')\n.iterate()\n;\nnodes = g.V().limit(2).toList();\n")}},"2. Update properties of the Node")),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return e.props.addQueryToConsole("// this will add a relation ship between Person and GitHubProject data.\n\ng\n.V()\n.hasLabel('Person')\n.has('name','rrmerugu')\n.as('person')\n\n.V()\n.hasLabel('GitHubProject')\n.has('name','Graph Explorer')\n\n.addE('authored')\n.from('person')\n.property('since',2020).next();\n")}},"3. Add a relation between both the nodes."))),r.a.createElement("p",null,"Awesome! ",r.a.createElement("u",null,r.a.createElement("button",{onClick:function(){return e.props.onClose()}}," Close this tour "))," and start exploring your graph data."),r.a.createElement("h3",{style:{marginTop:"30px"}},"More Resources"),r.a.createElement(Y,{type:"vertical"},r.a.createElement("li",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://medium.com/invanalabs/crud-cheatsheet-to-apache-tinkerpop-gremlin-393540cd46ae?source=collection_home---4------1-----------------------"},"1. CRUD CheatSheet to Apache TinkerPop Gremlin. ",r.a.createElement(X.a,{className:"small",icon:Z.j}))),r.a.createElement("li",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://tinkerpop.apache.org/docs/current/reference/"},"2. Apache Tinkerpop Documentation ",r.a.createElement(X.a,{className:"small",icon:Z.j})))))}}]),n}(r.a.Component);ue.defaultProps={addQueryToConsole:function(){return console.error("addQueryToConsole not implemented")},onClose:function(){return console.error("onClose not implemented")}};n(134);var de=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=(Object(v.d)(f.v,!0)||[]).filter((function(e){return"internal"!==e.source}));return r.a.createElement("div",null,t.length>0?r.a.createElement(Y,{type:"vertical"},t.filter((function(e){return"internal"!==e.source})).map((function(t,n){return r.a.createElement("li",{className:"historyItem",key:n},r.a.createElement("pre",null,JSON.stringify(t.query,null,2)),r.a.createElement("div",null,r.a.createElement("button",{className:"small",onClick:function(){return e.props.makeQuery(t.query,{source:"canvas"})}},"Run Again"),r.a.createElement("button",{className:"small",onClick:function(){return e.props.addQueryToConsole(t.query)}},"Edit Query in Console")),r.a.createElement("div",{className:"small"},"Queried from ",t.source," at ",t.dt))}))):r.a.createElement("p",null,"Hm! No user query history found!."))}}]),n}(r.a.Component);de.defaultProps={makeQuery:function(e){return console.log("makeQuery prop not set to HistoryFlyOut",e)},addQueryToConsole:function(e){return console.log("addQueryToConsole prop not set to HistoryFlyOut",e)},query:null};var he=n(58),pe=(n(135),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"p-10"},r.a.createElement(Y,{type:"vertical"},r.a.createElement("li",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://invana.io/help.html"},r.a.createElement("h4",null,r.a.createElement(X.a,{icon:Z.d})," Documentation"),r.a.createElement("p",null,"Beginner tutorials, usage and developer documentation."))),r.a.createElement("li",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/invanalabs/graph-explorer/issues"},r.a.createElement("h4",null,r.a.createElement(X.a,{icon:he.a})," GitHub"),r.a.createElement("p",null,"Bugs, Feature Requests on GitHub"))),r.a.createElement("li",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://medium.com/invanalabs"},r.a.createElement("h4",null,r.a.createElement(X.a,{icon:he.b})," Medium"),r.a.createElement("p",null,"Blogs on latest implementations and more use cases."))),r.a.createElement("li",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://twitter.com/invanalabs"},r.a.createElement("h4",null,r.a.createElement(X.a,{icon:he.c})," Twitter"),r.a.createElement("p",null,"Stay upto date about the releases, updates, use case blogs, ")))),r.a.createElement("p",null,"If you need any support beyond the above, please get in touch with us at ",r.a.createElement("br",null),r.a.createElement("span",{className:"selected"},"hi[ at ]invana.io")))}}]),n}(r.a.Component)),me=(n(136),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={verticesLabels:[]},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){console.log("======",this.props,this.requestBuilder);var e=this.connector.requestBuilder.getVerticesLabelStats();this.makeQuery(e)}},{key:"processResponse",value:function(e){console.log("=====responses===",e),console.log("===>>",e.getResponseResult()),e.getResponseResult()&&this.setState({verticesLabels:e.getResponseResult()})}},{key:"getVertexColor",value:function(e,t){var n=t[e];return n&&n.bgColor?n.bgColor:H(e)}},{key:"render",value:function(){var e=this,t=Object.assign({},JSON.parse(localStorage.getItem("nodeLabels")));return r.a.createElement("div",{className:" p-10"},0===this.state.verticesLabels.length?r.a.createElement("span",{className:"text-muted"},"No vertices data found"):r.a.createElement("span",null),r.a.createElement(Y,{type:"vertical-no-border"},this.state.verticesLabels.filter((function(e){return e.label!==f.w})).map((function(n,a){return r.a.createElement("li",{style:{marginBottom:"5px"},key:a},r.a.createElement("button",{className:"management-icon-btn",title:"Show connected edges and vertices",onClick:function(){return e.props.parentGraphComponent.makeQuery(e.connector.requestBuilder.getNeighborEdgesAndVertices(n.label,10,0),{source:"canvas"})}},r.a.createElement(X.a,{icon:Z.s})),r.a.createElement("button",{className:"management-icon-btn",title:"Show the vertices options",onClick:function(){return e.props.setShowVertexOptions(n.label,"g:Vertex")}},r.a.createElement(X.a,{icon:Z.D})),r.a.createElement("span",{style:{display:"inline",color:e.getVertexColor(n.label,t)}},n.label," ",r.a.createElement("small",{style:{color:"#656565"}},"(",e.props.parentGraphComponent.dataStore.verticesStats.get(n.label)||0," of ",n.count,")")))}))))}}]),n}(K)),ge=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={edgesLabels:[]},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.connector.requestBuilder.getEdgesLabelStats();this.makeQuery(e)}},{key:"processResponse",value:function(e){console.log("=====responses===",e),e.getResponseResult()&&this.setState({edgesLabels:e.getResponseResult()})}},{key:"getVertexColor",value:function(e,t){var n=t[e];return n&&n.bgColor?n.bgColor:H(e)}},{key:"render",value:function(){var e=this,t=Object.assign({},JSON.parse(localStorage.getItem("nodeLabels")));return console.log("=====this.state.edgesLabels",this.state.edgesLabels),r.a.createElement("div",{className:" p-10"},0===this.state.edgesLabels.length?r.a.createElement("span",{className:"text-muted"},"No edges data found"):r.a.createElement("span",null),r.a.createElement(Y,{type:"vertical-no-border"},this.state.edgesLabels.filter((function(e){return e.label!==f.w})).map((function(n,a){return r.a.createElement("li",{style:{marginBottom:"5px"},key:a},r.a.createElement("button",{className:"management-icon-btn",title:"Show connected edges and their vertices",onClick:function(){return e.props.parentGraphComponent.makeQuery(e.connector.requestBuilder.filterEdgeAndGetNeighborVertices(n.label,10,0),{source:"canvas"})}},r.a.createElement(X.a,{icon:Z.s})),r.a.createElement("button",{style:{display:"none"},className:"management-icon-btn",title:"Show the vertices options",onClick:function(){return e.props.setShowVertexOptions(n.label,"g:Edge")}},r.a.createElement(X.a,{icon:Z.D})),r.a.createElement("span",{style:{display:"inline",color:e.getVertexColor(n.label,t)}},n.label," ",r.a.createElement("small",{style:{color:"#656565"}},"(",e.props.parentGraphComponent.dataStore.edgesStats.get(n.label)||0," of ",n.count,")")))}))))}}]),n}(K),fe=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"p-10"},r.a.createElement("h3",{style:{fontWeight:"20px"}},"Graph Explorer ",r.a.createElement("small",null,"(",f.u,")")),r.a.createElement("p",{style:{marginTop:"0"}},f.a," ",r.a.createElement("br",null)),r.a.createElement("p",null,r.a.createElement("strong",null,"License:")," Apache License 2.0"),r.a.createElement("p",null,r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"http://github.com/invanalabs/graph-explorer/"},"http://github.com/invanalabs/graph-explorer/")),r.a.createElement("p",null,"This is an open source project under Apache License 2.0, so feel free to ",r.a.createElement("u",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://github.com/invanalabs/graph-explorer/"},"star"))," and ",r.a.createElement("u",null,r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"http://github.com/invanalabs/graph-explorer/"},"fork.")),"\xa0Any contributions are welcome :)"))}}]),n}(r.a.Component),ve=(n(137),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"getCleanedData",value:function(){var e=Object.assign({},this.props.selectedData);if(e.type){var t=e.properties,n={};return n.label=e.label,n.type=e.type.replace("g:",""),n.id=e.id,n.properties=t,n.target=e.target,n.source=e.source,n}return{properties:{}}}},{key:"render",value:function(){var e=this.getCleanedData(),t=Object.assign({},JSON.parse(localStorage.getItem("nodeLabels"))),n=Object.assign({},JSON.parse(localStorage.getItem("linkLabels"))),a={};return"Vertex"===e.type?a=t[e.label]:"Edge"===e.type&&(a=n[e.label]),a||(a={bgColor:"#7d8296"}),console.log("cleanedData",e),r.a.createElement("div",null,r.a.createElement("div",{className:"SelectedDataList mainDetails"},r.a.createElement("div",{className:"singleProperty dark",key:e.id},r.a.createElement("div",{className:"propertyData"},r.a.createElement("strong",{className:"propertyKey"},"id:")," ",e.id)),r.a.createElement("div",{className:"singleProperty dark",key:e.type},r.a.createElement("div",{className:"propertyData"},r.a.createElement("strong",{className:"propertyKey"},"type:")," ",e.type)),r.a.createElement("div",{className:"singleProperty dark",key:e.label},r.a.createElement("div",{className:"propertyData"},r.a.createElement("strong",{className:"propertyKey"},"label:")," ",e.label)),e.source?r.a.createElement("div",{className:"singleProperty dark",key:e.source.id},r.a.createElement("div",{className:"propertyData"},r.a.createElement("strong",{className:"propertyKey"},"source:"),r.a.createElement("span",{style:{color:e.source.meta.shapeOptions.fillColorHex}},"\xa0",e.source.meta.labelOptions.labelText))):r.a.createElement("span",null),e.target?r.a.createElement("div",{className:"singleProperty dark",key:e.target.id},r.a.createElement("div",{className:"propertyData"},r.a.createElement("strong",{className:"propertyKey"},"target:"),r.a.createElement("span",{style:{color:e.target.meta.shapeOptions.fillColorHex}},"\xa0",e.target.meta.labelOptions.labelText))):r.a.createElement("span",null)),r.a.createElement("div",{className:"SelectedDataList"},r.a.createElement("div",{className:"singleProperty darkest",key:"properties-list"},r.a.createElement("div",{className:"propertyData"},r.a.createElement("strong",{className:"propertyKey "},"PROPERTIES"))),0===Object.keys(e.properties).length?r.a.createElement("div",{className:"singleProperty",key:e.id+"-no-properties-exist"},r.a.createElement("div",{className:"propertyData"},r.a.createElement("span",{className:"text-muted"},"No properties exist for this ",e.type))):r.a.createElement("span",null),Object.keys(e.properties).map((function(t){return r.a.createElement("div",{className:"singleProperty",key:e.id+"-"+t},r.a.createElement("div",{className:"propertyData"},r.a.createElement("strong",{className:"propertyKey"},t,":"),r.a.createElement("div",{style:{marginTop:"5px"}},P(0,e.properties[t]))))}))))}}]),n}(r.a.Component));ve.defaultProps={selectedData:null,onClose:function(){return console.error("onFlyOutSelectedDataClose not implemented")}};var ye=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state=Object(m.a)(Object(m.a)({},e.state),{},{nodeOptions:null}),e.shallReload=!0,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){console.log("VO componentDidMount"),console.log("======",this.props,this.requestBuilder),this.getSelectedLabelConfigData()}},{key:"getSelectedLabelConfigData",value:function(){var e=this.connector.requestBuilder.getOrCreateVertices(f.w,{name:this.props.selectedLabel});this.makeQuery(e)}},{key:"componentDidUpdate",value:function(e){console.log("VO componentDidUpdate"),e.selectedLabel!==this.props.selectedLabel&&(this.setState({nodeOptions:null}),this.getSelectedLabelConfigData())}},{key:"onFormSubmit",value:function(e){e.preventDefault(),console.log("formdata",e.target);var t=this.state.nodeOptions.properties;t.label_type=this.props.selectedLabelType;var n=this.connector.requestBuilder.updateVertexById(this.state.nodeOptions.id,t);this.makeQuery(n,{source:"canvas"})}},{key:"processResponse",value:function(e){this.shallReload=!0,console.log("=====response===",e),e.response.data&&e.response.data.getOrCreateVertex?(Object(v.i)(e.response.data.getOrCreateVertex),this.setState({nodeOptions:e.response.data.getOrCreateVertex}),this.forceUpdate()):e.response.data&&e.response.data.updateVertexById&&(Object(v.i)(e.response.data.updateVertexById),this.props.setStatusMessage("Updated options for label '"+this.props.selectedLabel+"'"),this.setState({nodeOptions:e.response.data.updateVertexById}),this.props.setShallReRenderD3Canvas(!0),200!==e.transporterStatusCode&&this.props.setErrorMessage(e.transporterStatusCode))}},{key:"handleValueChange",value:function(e){console.log("handleValueChange=====",e);var t=this.state.nodeOptions;t.properties[e.target.name]=e.target.value,console.log("<<<>>>nodeOptions",t),this.setState({nodeOptions:t})}},{key:"render",value:function(){var e=this.props.selectedLabel;console.log("======this.state.nodeOptions ",this.state.nodeOptions);var t={bgColor:H(e),borderColor:f.i,bgImageUrl:null,bgImagePropertyKey:null,labelPropertyKey:f.l,tagHtml:null};return console.log("========defaultNodeOptions",t),console.log("***"),this.shallReload=!1,r.a.createElement("div",{className:"p-10"},this.state.nodeOptions&&r.a.createElement("form",{onSubmit:this.onFormSubmit.bind(this)},r.a.createElement("input",{type:"hidden",name:"name",readOnly:!0,spellCheck:"false",defaultValue:e}),r.a.createElement("input",{type:"hidden",name:"label",defaultValue:e}),r.a.createElement("label",{className:""},"Background Color"),r.a.createElement("input",{type:"text",name:"bgColor",maxLength:7,minLength:7,placeholder:"bgColor",spellCheck:"false",onChange:this.handleValueChange.bind(this),defaultValue:this.state.nodeOptions.properties.bgColor||t.bgColor}),r.a.createElement("label",{style:{display:"none"},className:""},"Border Color"),r.a.createElement("input",{type:"hidden",name:"borderColor",maxLength:7,minLength:7,placeholder:"borderColor",spellCheck:"false",readOnly:"readonly",defaultValue:this.state.nodeOptions.properties.borderColor||t.borderColor}),r.a.createElement("input",{type:"hidden",name:"bgImageUrl",placeholder:"bgImage (optional)",spellCheck:"false",onChange:this.handleValueChange.bind(this),defaultValue:this.state.nodeOptions.properties.bgImageUrl||t.bgImageUrl}),r.a.createElement("label",{style:{display:"none"},className:""},"Background Image (from data field)"),r.a.createElement("input",{type:"hidden",name:"bgImagePropertyKey",spellCheck:"false",onChange:this.handleValueChange.bind(this),placeholder:"bgImagePropertyKey (optional)",readOnly:"readonly",defaultValue:this.state.nodeOptions.properties.bgImagePropertyKey||t.bgImagePropertyKey}),r.a.createElement("label",{className:""},"Label Property Key (from data fields)"),r.a.createElement("input",{type:"text",name:"labelPropertyKey",spellCheck:"false",placeholder:"labelPropertyKey (optional)",onChange:this.handleValueChange.bind(this),defaultValue:this.state.nodeOptions.properties.labelPropertyKey||t.labelPropertyKey}),r.a.createElement("input",{type:"hidden",name:"tagHtml",spellCheck:"false",placeholder:"tagHtml (optional)",defaultValue:this.state.nodeOptions.properties.tagHtml||""}),r.a.createElement("br",null),r.a.createElement("button",{className:"mt-10 button primary-btn",type:"submit"},"update")))}}]),n}(K),Ee=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"p-10"},r.a.createElement("p",null,"Hi there! "),r.a.createElement("p",null,"Introducing Graph Explorer (",f.u,") - ",f.a),r.a.createElement("p",null,"In the words of General Patton, \u201cIf a man does his best, what else is there!\u201d, so I believe there is always a next best thing. In the spirit of every ",r.a.createElement("em",null,"new technology")," that disrupts the way Humans solves the problems. This project is yet an attempt to gather the best of the tech from graph computing and data visualisations, to give Innovators a great way to find problems and the solutions with the help of data."),r.a.createElement("p",null,"Also, I am really excited about the potential of Graph Databases - they establish connections between the data during the write operations, giving faster read time abilities for handling complex queries like never before."),r.a.createElement("p",null,"This project is shared under open source ",r.a.createElement("em",null,"Apache License 2.0")," license. Please feel free to contribute and star the project at ",r.a.createElement("a",{href:f.s,rel:"noopener noreferrer",target:"_blank",className:"selected"},"Github."),"."),r.a.createElement("p",null,"Best ",r.a.createElement("br",null),"Ravi Raja Merugu ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.linkedin.com/in/rrmerugu/"},"(linkedin.com/in/rrmerugu/)")),r.a.createElement("p",null,r.a.createElement("button",{className:"selected",onClick:function(){return e.props.setRightContentName("learn")}},r.a.createElement("u",null,"Build your first Graph \u2192")),r.a.createElement("span",{style:{marginLeft:"5px",marginRight:"5px"}},"|"),r.a.createElement("button",{onClick:function(){return e.props.setRightContentName("support")}},"check support"),r.a.createElement("span",{style:{marginLeft:"5px",marginRight:"5px"}},"|"),r.a.createElement("button",{onClick:function(){return e.props.onClose()}},"close")))}}]),n}(r.a.Component);Ee.defaultProps={onClose:function(){return console.error("onClose prop not set for <FounderNote> component")},setRightContentName:function(){return console.error("setRightContentName prop not set for <FounderNote> component")}};var be=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"p-10"},r.a.createElement(Y,{type:"vertical"},r.a.createElement("li",null,r.a.createElement("h4",{className:"mt-20"},r.a.createElement(X.a,{icon:Z.g})," Switch Visualisation Canvas"),r.a.createElement("p",null,"Visualise your data as Graph, Tables & JSON.")),r.a.createElement("li",null,r.a.createElement("h4",{className:"mt-20"},r.a.createElement(X.a,{icon:Z.g})," Browse using HotKeys"),r.a.createElement("p",null,"Use keyboard shortcuts for a seamless data browsing experience.")),r.a.createElement("li",null,r.a.createElement("h4",{className:"mt-20"},r.a.createElement(X.a,{icon:Z.g})," Gremlin Query Console"),r.a.createElement("p",null,'Run queries on your graph data using Apache TinkerPop"s Gremlin Query Language.')),r.a.createElement("li",null,r.a.createElement("h4",{className:"mt-20"},r.a.createElement(X.a,{icon:Z.g})," Connect to HTTP or WebSocket"),r.a.createElement("p",null,"Connect to gremlin server over `http` or `ws` protocols.")),r.a.createElement("li",null,r.a.createElement("h4",{className:"mt-20"},r.a.createElement(X.a,{icon:Z.g})," Secure Connections with Auth"),r.a.createElement("p",null,"Connect to gremlin server using basic or token based authentication."))))}}]),n}(r.a.Component);be.defaultProps={onClose:function(){return console.error("onClose prop not set for <WhatsNew> component")},setLeftContent:function(){return console.error("setLeftContent prop not set for <WhatsNew> component")}};var Ce=n(44),ke=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(i.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log("ERROR=================",e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log("getDerivedStateFromError error is ",e),{hasError:!0}}}]),n}(r.a.Component),Oe=n(20),Ne=n(79),Se=function(){function e(t){Object(l.a)(this,e),this.clickedNodeData=void 0,this.lastSelectedNodeData=void 0,this.hoveredNodeData=void 0,this.nodeMenuEl=void 0,this.nodeMenuEl=t}return Object(i.a)(e,[{key:"showMenu",value:function(){this.nodeMenuEl.style.display="block"}},{key:"hideMenu",value:function(){this.nodeMenuEl.style.display="none"}},{key:"onLinkClicked",value:function(e,t,n,a){console.log("onNodeClicked",t.id,n,a),this.clickedNodeData=null,e.onElementSelected(t)}},{key:"onLinkMouseOver",value:function(e,t,n,a){console.log(t.id,n,a,"link MouseOver"),e.dataStore.getUniqueFocusedNodes().length>0||(this.highlightLink(e,t),e.eventStore.hideMenu(),e.onElementSelected(t))}},{key:"onLinkMouseOut",value:function(e,t,n,a){console.log(t.id,n,a,"link MouseOut"),e.dataStore.getUniqueFocusedNodes().length>0||(this.unHighlightLink(e,t),e.onElementSelected(null))}},{key:"createNodeMenu",value:function(e,t,n){console.log("createNode Menu",t,n),this.nodeMenuEl.style.left=n.data.global.x+e.settings.NODE_MENU_X_PADDING+"px",this.nodeMenuEl.style.top=n.data.global.y+e.settings.NODE_MENU_Y_PADDING+"px"}},{key:"onNodeRightClicked",value:function(e,t,n,a){this.showMenu(),this.clickedNodeData=t,this.lastSelectedNodeData=t,console.log(this.clickedNodeData.id," clicked"),e.onElementSelected(t),console.log("clicked",a),this.createNodeMenu(e,t,a)}},{key:"onNodeClicked",value:function(e,t,n,a){console.log("onNodeClicked",n,a),this.clickedNodeData=t,this.lastSelectedNodeData=t,console.log(this.clickedNodeData.id," clicked"),e.onElementSelected(t)}},{key:"focusGraph",value:function(e){console.log("====graphicsEngine",e)}},{key:"highlightNodes",value:function(e,t){console.log("highlightNodes ",t),e.graphicsStore.focusOnElements(t),e.requestRender()}},{key:"highlightLink",value:function(e,t){console.log("highlightLink ",t),e.graphicsStore.focusOnElements(null,t),e.requestRender()}},{key:"unHighlightLink",value:function(e,t){console.log("unHighlightLink ",t),e.graphicsStore.resetFocus(),e.requestRender()}},{key:"unHighlightNode",value:function(e,t){console.log("=====unHighlightNode",t),e.graphicsStore.resetFocus(),e.requestRender()}},{key:"onNodeMouseOver",value:function(e,t,n,a){if(console.log(t.id,n,a," mouseover"),e.onElementSelected(t),this.clickedNodeData&&this.clickedNodeData.id!==t.id&&this.hideMenu(),!(e.dataStore.getUniqueFocusedNodes().length>0)&&t){if(this.highlightNodes(e,[t]),this.clickedNodeData)return;this.hoveredNodeData=t}}},{key:"onNodeMouseOut",value:function(e,t,n,a){console.log(t.id,n,a," mouseout"),e.dataStore.getUniqueFocusedNodes().length>0||(this.unHighlightNode(e,t),this.clickedNodeData)}},{key:"unsetSelectedNodeData",value:function(){this.clickedNodeData=void 0}},{key:"onNodeUnClicked",value:function(e,t,n,a){console.log("===onNodeUnClicked",n,a,t),this.unsetSelectedNodeData()}}]),e}(),Le=function(){function e(t,n){Object(l.a)(this,e),this.dataStore=t,this.graphicsEngine=n,this.clearAndSetupNew()}return Object(i.a)(e,[{key:"alreadyRenderedData",value:function(){return{renderedVertices:Object(v.c)(this.nodeDataToNodeGfx),renderedEdges:Object(v.c)(this.linkDataToLinkGfx)}}},{key:"clearAndSetupNew",value:function(){this.hoveredNodeGfxOriginalChildren=[],this.hoveredNodeLabelGfxOriginalChildren=[],this.hoveredlinkGfxOriginalChildren=[],this.hoveredlinkLabelOriginalChildren=[],this.hoveredNodeChildrenPairs={},this.nodeDataToNodeGfx=new Map,this.nodeGfxToNodeData=new Map,this.nodeDataToLabelGfx=new Map,this.labelGfxToNodeData=new Map,this.linkDataToLinkGfx=new Map,this.linkGfxToLinkData=new Map,this.linkDataToLabelGfx=new Map,this.labelGfxToLinkData=new Map,this.nodeDataGfxPairs=[],this.linkDataGfxPairs=[]}},{key:"getElementsToHighlightFromNodes",value:function(e){return{notNeighborData:this.dataStore.getNotNeighborLinks(e),neighborsData:this.dataStore.getNeighborNodesAndLinks(e)}}},{key:"getElementsToHighlightFromLink",value:function(e){var t={links:[e],nodes:[e.source,e.target]},n={notNeighborNodes:[],notNeighborLinks:[]};return this.dataStore.getAllRawVerticesList().forEach((function(e){t.nodes.includes(e)||n.notNeighborNodes.push(e)})),this.dataStore.getAllRawEdgesList().forEach((function(e){t.links.includes(e)||n.notNeighborLinks.push(e)})),{notNeighborData:n,neighborsData:t}}},{key:"focusOnElements",value:function(e,t){console.log("=====focusOnElements",e,t);var n=this,a=null;a=t?this.getElementsToHighlightFromLink(t):this.getElementsToHighlightFromNodes(e),e||(e=a.neighborsData.nodes),a.notNeighborData.notNeighborLinks.forEach((function(e){var t=n.linkDataToLinkGfx.get(e.id),a=n.linkDataToLabelGfx.get(e.id);t.alpha=n.graphicsEngine.settings.LINK_UN_HIGHLIGHT_ALPHA,a.alpha=n.graphicsEngine.settings.LINK_UN_HIGHLIGHT_ALPHA,n.graphicsEngine.linksLayer.removeChild(t),n.graphicsEngine.frontLayer.addChild(t),n.graphicsEngine.linksLabelsLayer.removeChild(a),n.graphicsEngine.frontLayer.addChild(a)})),a.notNeighborData.notNeighborNodes.forEach((function(e){var t=n.nodeDataToNodeGfx.get(e.id),a=n.nodeDataToLabelGfx.get(e.id);t.children[0].alpha=n.graphicsEngine.settings.NODE_BORDER_UN_HIGHLIGHT_ALPHA,t.alpha=n.graphicsEngine.settings.LINK_UN_HIGHLIGHT_ALPHA,a.alpha=n.graphicsEngine.settings.LINK_UN_HIGHLIGHT_ALPHA,n.graphicsEngine.nodesLayer.removeChild(t),n.graphicsEngine.frontLayer.addChild(t),n.graphicsEngine.nodeLabelsLayer.removeChild(a),n.graphicsEngine.frontLayer.addChild(a)})),a.neighborsData.links.forEach((function(e){var t=n.linkDataToLinkGfx.get(e.id),a=n.linkDataToLabelGfx.get(e.id);t.alpha=n.graphicsEngine.settings.LINK_DEFAULT_ALPHA,a.alpha=n.graphicsEngine.settings.LINK_DEFAULT_ALPHA,n.graphicsEngine.linksLayer.removeChild(t),n.graphicsEngine.frontLayer.addChild(t),n.graphicsEngine.linksLabelsLayer.removeChild(a),n.graphicsEngine.frontLayer.addChild(a)})),a.neighborsData.nodes.forEach((function(e){var t=n.nodeDataToNodeGfx.get(e.id),a=n.nodeDataToLabelGfx.get(e.id);t.children[0].alpha=n.graphicsEngine.settings.NODE_BORDER_UN_HIGHLIGHT_ALPHA,t.alpha=n.graphicsEngine.settings.LINK_DEFAULT_ALPHA,a.alpha=n.graphicsEngine.settings.LINK_DEFAULT_ALPHA,n.graphicsEngine.nodesLayer.removeChild(t),n.graphicsEngine.frontLayer.addChild(t),n.graphicsEngine.nodeLabelsLayer.removeChild(a),n.graphicsEngine.frontLayer.addChild(a)})),e.forEach((function(e){var t=n.nodeDataToNodeGfx.get(e.id);console.log("==nodeContainer",e,t),t&&(t.children[0].alpha=n.graphicsEngine.settings.NODE_BORDER_HIGHLIGHT_ALPHA);var a=n.nodeDataToLabelGfx.get(e.id);t.alpha=n.graphicsEngine.settings.LINK_DEFAULT_ALPHA,a.alpha=n.graphicsEngine.settings.LINK_DEFAULT_ALPHA,n.graphicsEngine.nodesLayer.removeChild(t),n.graphicsEngine.frontLayer.addChild(t),n.graphicsEngine.nodeLabelsLayer.removeChild(a),n.graphicsEngine.frontLayer.addChild(a)}))}},{key:"highlightThisNodeAlso",value:function(e){this.nodeDataToNodeGfx.get(e).children[0].alpha=this.graphicsEngine.settings.NODE_BORDER_HIGHLIGHT_ALPHA}},{key:"resetFocus",value:function(){var e=this;console.log("++reset focus");var t=this.dataStore.getDataToRender(),n=t.verticesToRender,a=t.edgesToRender;console.log("++",n,a),a.forEach((function(t){var n=e.linkDataToLinkGfx.get(t.id),a=e.linkDataToLabelGfx.get(t.id);n&&(n.alpha=e.graphicsEngine.settings.LINK_DEFAULT_ALPHA,a.alpha=e.graphicsEngine.settings.LINK_DEFAULT_ALPHA,e.graphicsEngine.frontLayer.removeChild(n),e.graphicsEngine.linksLayer.addChild(n),e.graphicsEngine.frontLayer.removeChild(a),e.graphicsEngine.linksLabelsLayer.addChild(a))})),n.forEach((function(t){var n=e.nodeDataToNodeGfx.get(t.id),a=e.nodeDataToLabelGfx.get(t.id);e.graphicsEngine.frontLayer.removeChild(n),e.graphicsEngine.nodesLayer.addChild(n),e.graphicsEngine.frontLayer.removeChild(a),e.graphicsEngine.nodeLabelsLayer.addChild(a),n.alpha=e.graphicsEngine.settings.NODE_DEFAULT_ALPHA,a.alpha=e.graphicsEngine.settings.NODE_DEFAULT_ALPHA,n.children[0].alpha=e.graphicsEngine.settings.NODE_BORDER_UN_HIGHLIGHT_ALPHA}))}},{key:"updateNodePairs",value:function(e){var t=this;e.forEach((function(e){t.nodeDataGfxPairs.push(e)})),this.nodeDataToNodeGfx=new Map(this.nodeDataGfxPairs.map((function(e){var t=Object(p.a)(e,3),n=t[0],a=t[1];t[2];return[n.id,a]}))),this.nodeGfxToNodeData=new Map(this.nodeDataGfxPairs.map((function(e){var t=Object(p.a)(e,3),n=t[0],a=t[1];t[2];return[a,n.id]}))),this.nodeDataToLabelGfx=new Map(this.nodeDataGfxPairs.map((function(e){var t=Object(p.a)(e,3),n=t[0],a=(t[1],t[2]);return[n.id,a]}))),this.labelGfxToNodeData=new Map(this.nodeDataGfxPairs.map((function(e){var t=Object(p.a)(e,3),n=t[0];t[1];return[t[2],n.id]})))}},{key:"updateLinkPairs",value:function(e){var t=this;e.forEach((function(e){t.linkDataGfxPairs.push(e)})),this.linkDataToLinkGfx=new Map(this.linkDataGfxPairs.map((function(e){var t=Object(p.a)(e,3),n=t[0],a=t[1];t[2];return[n.id,a]}))),this.linkGfxToLinkData=new Map(this.linkDataGfxPairs.map((function(e){var t=Object(p.a)(e,3),n=t[0],a=t[1];t[2];return[a,n.id]}))),this.linkDataToLabelGfx=new Map(this.linkDataGfxPairs.map((function(e){var t=Object(p.a)(e,3),n=t[0],a=(t[1],t[2]);return[n.id,a]}))),this.labelGfxToLinkData=new Map(this.linkDataGfxPairs.map((function(e){var t=Object(p.a)(e,3),n=t[0];t[1];return[t[2],n.id]})))}}]),e}(),De=function(){function e(t,n,a,r,o){var s=this;Object(l.a)(this,e),this.renderRequestId=void 0,this.isRendering=void 0,this.nodeMenuEl=void 0,this.isFirstLoaded=!0,this.requestRender=function(){var e=s;s.renderRequestId||(s.renderRequestId=window.requestAnimationFrame((function(){e.pixiApp.render(),e.renderRequestId=void 0})))},this.updatePositions=function(){console.log("updatePositions triggered"),s.clearLinkCanvas(),s.updateNodePositions(),s.updateLinkPositions(),s.requestRender()},this.settings=a,this.dataStore=r,this.graphicsStore=new Le(this.dataStore,this),this.nodeMenuEl=n,this.eventStore=new Se(n),this.onElementSelected=o,this.nodeLabels=Object.assign({},JSON.parse(localStorage.getItem("nodeLabels"))),this.linkLabels=Object.assign({},JSON.parse(localStorage.getItem("linkLabels"))),this.pixiApp=new Oe.a({width:this.settings.SCREEN_WIDTH,height:this.settings.SCREEN_HEIGHT,resolution:this.settings.RESOLUTION,transparent:!0,antialias:!0,autoStart:!1,forceCanvas:!0,autoDensity:!0}),this.pixiApp.view.addEventListener("contextmenu",(function(e){return e.preventDefault(),e.stopPropagation(),!1})),t.appendChild(this.pixiApp.view),this.viewport=new Ne.a({screenWidth:this.settings.SCREEN_WIDTH,screenHeight:this.settings.SCREEN_HEIGHT,worldWidth:this.settings.WORLD_WIDTH,worldHeight:this.settings.WORLD_HEIGHT,interaction:this.pixiApp.renderer.plugins.interaction}),this.viewport.clampZoom({minScale:this.settings.ZOOM_CLAMP_MIN_SCALE,maxScale:this.settings.ZOOM_CLAMP_MAX_SCALE}),this.viewport.on("frame-end",(function(){s.viewport.dirty&&(s.requestRender(),s.viewport.dirty=!1)})),this.setupCanvas(),this.preventWheelScrolling(),this.requestRender()}return Object(i.a)(e,[{key:"setNodeElem",value:function(e){this.nodeMenuEl=e}},{key:"setupCanvas",value:function(){this.pixiApp.stage.addChild(this.viewport),this.viewport.drag().pinch().wheel().decelerate(),this.nodeMenuLayer=new Oe.c,this.viewport.addChild(this.nodeMenuLayer),this.linksLayer=new Oe.c,this.viewport.addChild(this.linksLayer),this.linksLabelsLayer=new Oe.c,this.viewport.addChild(this.linksLabelsLayer),this.nodesLayer=new Oe.c,this.viewport.addChild(this.nodesLayer),this.nodeLabelsLayer=new Oe.c,this.viewport.addChild(this.nodeLabelsLayer),this.frontLayer=new Oe.c,this.viewport.addChild(this.frontLayer)}},{key:"zoom2Point",value:function(e,t){this.viewport.center=new Oe.e(e,t),this.viewport.fit(!0,this.settings.WORLD_WIDTH/4,this.settings.WORLD_HEIGHT/4),this.viewport.setZoom(1,!0),this.eventStore.hideMenu()}},{key:"zoom2Node",value:function(e){var t=this.graphicsStore.nodeDataToNodeGfx.get(e);this.zoom2Point(t.x,t.y)}},{key:"getNodeBorderGfx",value:function(e){return e.children[0]}},{key:"highlightNodeById",value:function(e){var t=this.graphicsStore.nodeDataToNodeGfx.get(e);this.getNodeBorderGfx(t).alpha=this.settings.NODE_BORDER_HIGHLIGHT_ALPHA}},{key:"unHighlightNodeById",value:function(e){var t=this.graphicsStore.nodeDataToNodeGfx.get(e);this.getNodeBorderGfx(t).alpha=this.settings.NODE_BORDER_UN_HIGHLIGHT_ALPHA}},{key:"resetViewport",value:function(){this.zoom2Point(this.settings.WORLD_WIDTH/4,this.settings.WORLD_HEIGHT/4),this.viewport.setZoom(.5,!0)}},{key:"createNode",value:function(e){var t=this,n=this,a=this.settings,r=a.NODE_HIT_RADIUS,o=a.LABEL_FONT_FAMILY,s=a.LABEL_FONT_SIZE,l=a.LABEL_X_PADDING,i=a.LABEL_Y_PADDING,c=a.NODE_SELECTED_STROKE_WIDTH,u=a.NODE_FOCUSED_NODE_BORDER_COLOR,d=new Oe.c;d.x=e.x,d.y=e.y,d.interactive=!0,d.buttonMode=!0,d.hitArea=new Oe.b(0,0,e.meta.shapeOptions.radius),d.on("rightdown",(function(e){return n.eventStore.onNodeRightClicked(n,t.dataStore.getVertex(n.graphicsStore.nodeGfxToNodeData.get(e.currentTarget)),d,e)})),d.on("mousedown",(function(e){return n.eventStore.onNodeClicked(n,t.dataStore.getVertex(n.graphicsStore.nodeGfxToNodeData.get(e.currentTarget)),d,e)})),d.on("mouseover",(function(e){return n.eventStore.onNodeMouseOver(n,t.dataStore.getVertex(n.graphicsStore.nodeGfxToNodeData.get(e.currentTarget)),d)})),d.on("mouseout",(function(e){return n.eventStore.onNodeMouseOut(n,t.dataStore.getVertex(n.graphicsStore.nodeGfxToNodeData.get(e.currentTarget)),d)})),d.on("mouseup",(function(e){return t.eventStore.onNodeUnClicked(n,t.dataStore.getVertex(n.graphicsStore.nodeGfxToNodeData.get(e.currentTarget)),d)})),d.on("mouseupoutside",(function(e){return t.eventStore.onNodeUnClicked(n,t.dataStore.getVertex(n.graphicsStore.nodeGfxToNodeData.get(e.currentTarget)),d)}));var h=new Oe.d;h.x=0,h.y=0,h.lineStyle(c,u),h.drawCircle(0,0,e.meta.shapeOptions.radius),h.alpha=0,d.addChild(h);var p=new Oe.d;p.x=0,p.y=0,p.beginFill(e.meta.shapeOptions.fillColor),p.drawCircle(0,0,e.meta.shapeOptions.radius),d.addChild(p);var m=new Oe.d;m.x=0,m.y=0,m.lineStyle(e.meta.shapeOptions.strokeWidth,e.meta.shapeOptions.strokeColor),m.drawCircle(0,0,e.meta.shapeOptions.radius),d.addChild(m);var g=new Oe.c;g.x=e.x,g.y=e.y,g.interactive=!0,g.buttonMode=!0;var f=new Oe.g(e.meta.labelOptions.labelText,{fontFamily:o,fontSize:s,fill:e.meta.labelOptions.labelColor});return f.resolution=this.settings.LABEL_RESOLUTION,f.x=l,f.y=r+i,f.anchor.set(.5,0),g.addChild(f),{nodeContainer:d,nodeLabelContainer:g}}},{key:"createNodes",value:function(e){var t=this,n=this,a=[];return e.forEach((function(e){n.graphicsStore.nodeDataToNodeGfx.get(e.id)||a.push(e)})),a.map((function(e){if(!n.graphicsStore.nodeDataToNodeGfx.get(e.id)){var a=t.createNode(e),r=a.nodeContainer,o=a.nodeLabelContainer;return t.nodesLayer.addChild(r),t.nodeLabelsLayer.addChild(o),[e,r,o]}}))}},{key:"clearCanvas",value:function(){for(this.clearNodeCanvas(),this.clearLinkCanvas();this.frontLayer.firstChild;)this.frontLayer.removeChild(this.frontLayer.firstChild)}},{key:"clearNodeCanvas",value:function(){for(;this.nodesLayer.firstChild;)console.log("===removing NodeCanvas"),this.nodesLayer.removeChild(this.nodesLayer.firstChild);for(;this.nodeLabelsLayer.firstChild;)this.nodeLabelsLayer.removeChild(this.nodeLabelsLayer.firstChild)}},{key:"clearLinkCanvas",value:function(){for(;this.dataStore.linkGraphicsArray.length>0;){var e=this.dataStore.linkGraphicsArray.pop();try{e.clear(),this.linksLayer.removeChild(e),e.destroy()}catch(n){console.log("Failed to clear link graphics with error",n)}}for(;this.dataStore.linkLabelGraphicsArray.length>0;){var t=this.dataStore.linkLabelGraphicsArray.pop();try{t.clear(),this.linksLabelsLayer.removeChild(t),t.destroy()}catch(n){console.log("Failed to clear link graphics with error",n)}}}},{key:"linearDistanceBetweenTwoPoints",value:function(e,t,n,a){return Math.sqrt(Math.pow(n-e,2)+Math.pow(a-t,2))}},{key:"getPointForArrowAtPointWithPadding",value:function(e,t,n,a,r){var o=this.linearDistanceBetweenTwoPoints(e,t,n,a),s=(o-r)/o;return{x:(1-s)*e+s*n,y:(1-s)*t+s*a}}},{key:"getNormalAndTangentForTwoPoints",value:function(e,t,n,a,r){console.log("I might use sameIndex someday",r);var o=[-(a-this.settings.NODE_RADIUS),n-this.settings.NODE_RADIUS],s=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2));o[0]/=s,o[1]/=s;var l=[45*-o[1],45*o[0]];return o[0]*=30,o[1]*=30,{normal:o,tangent:l}}},{key:"createTriangle",value:function(e,t){var n=new Oe.d;n.lineStyle(1,t,1),n.beginFill(t,1);var a=e.target.x-e.source.x,r=e.target.y-e.source.y,o=Math.sqrt(a*a+r*r);if(0!==o){var s=a/o,l=r/o,i=e.source.x+s*(o-e.target.meta.shapeOptions.radiusBuffered),c=e.source.y+l*(o-e.target.meta.shapeOptions.radiusBuffered),u=e.source.x+s*(o-e.target.meta.shapeOptions.radiusBuffered-6),d=e.source.y+l*(o-e.target.meta.shapeOptions.radiusBuffered-6),h=-l,p=s;return n.moveTo(i,c),n.lineTo(u+5*h,d+5*p),n.lineTo(u-5*h,d-5*p),n.lineTo(i,c),n.endFill(),n}}},{key:"createLink",value:function(e){var t=e.meta.shapeOptions.strokeColor,n=this.settings,a=n.LINK_DEFAULT_LABEL_FONT_SIZE,r=n.LABEL_FONT_FAMILY,o=n.LINK_DEFAULT_WIDTH,s=this,l=new Oe.d,i=new Oe.d;l.lineStyle(Math.sqrt(o),t),l.moveTo(e.source.x,e.source.y),l.lineTo(e.target.x,e.target.y);var c=e.meta.shapeOptions.strokeColorHex,u=G(Object(v.a)(c,-30)),d=this.createTriangle(e,u);if(l.addChild(d),e.meta.labelOptions.labelText){var h=new Oe.g(e.meta.labelOptions.labelText,{fontFamily:r,fontSize:a,fill:s.settings.LINK_DEFAULT_LABEL_COLOR});h.resolution=this.settings.LABEL_RESOLUTION,h.x=(e.source.x+e.target.x)/2-10,h.y=(e.source.y+e.target.y)/2-10,h.anchor.set(.5,0),i.addChild(h)}l.endFill();var p=setInterval((function(){if(l.geometry&&l.geometry.graphicsData.length>0){var t=l.geometry.graphicsData[0].shape.points;if(t.length>0){if(l.interactive=!0,l.buttonMode=!0,4===t.length){var n=t[0],a=t[1],r=t[2],o=t[3];t=[n+3,a+3,r+3,o+3,r-3,o-3,n-3,a-3]}l.hitArea=new Oe.f(t),l.endFill(),i.endFill(),l.on("mouseover",(function(t){return s.eventStore.onLinkMouseOver(s,e,l,t)})),l.on("mouseout",(function(t){return s.eventStore.onLinkMouseOut(s,e,l,t)})),l.on("mousedown",(function(t){return s.eventStore.onLinkClicked(s,e,l,t)})),clearInterval(p)}}}),50);return l.alpha=this.settings.LINK_DEFAULT_ALPHA,i.alpha=this.settings.LINK_DEFAULT_ALPHA,{linkGfx:l,linkGfxLabel:i}}},{key:"updateLinkPositions",value:function(){for(var e=this.dataStore.getAllRawEdgesList(),t=[],n=0;n<e.length;n++){var a=this.createLink(e[n]),r=a.linkGfx,o=a.linkGfxLabel;this.dataStore.linkGraphicsArray.push(r),this.linksLayer.addChild(r),this.dataStore.linkLabelGraphicsArray.push(o),this.linksLabelsLayer.addChild(o),t.push([e[n],r,o])}this.graphicsStore.updateLinkPairs(t)}},{key:"updateNodePositions",value:function(){var e,t=this.dataStore.getAllRawVerticesList(),n=Object(A.a)(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;this.graphicsStore.nodeDataToNodeGfx.get(a.id)&&(this.graphicsStore.nodeDataToNodeGfx.get(a.id).position=new Oe.e(a.x,a.y)),this.graphicsStore.nodeDataToLabelGfx.get(a.id)&&(this.graphicsStore.nodeDataToLabelGfx.get(a.id).position=new Oe.e(a.x,a.y))}}catch(r){n.e(r)}finally{n.f()}}},{key:"renderGraphics",value:function(){this.isRendering=!0;var e=this.dataStore.getDataToRender(),t=e.verticesToRender,n=e.edgesToRender;console.log("vertices2Render ======== ",t.length),console.log("edges2Render ======== ",n.length);var a=this.createNodes(t);this.graphicsStore.updateNodePairs(a),this.updatePositions(),this.requestRender(),this.requestRender()}},{key:"preventWheelScrolling",value:function(){this.pixiApp.view.addEventListener("wheel",(function(e){e.preventDefault()}))}}]),e}(),we=(n(144),function e(t,n){Object(l.a)(this,e),this.RESOLUTION=2*window.devicePixelRatio,this.FORCE_LAYOUT_NODE_REPULSION_STRENGTH=-1e3,this.FORCE_LAYOUT_ITERATIONS=150,this.DEFAULT_LINK_LENGTH=200,this.NODE_RADIUS=10,this.NODE_HIT_RADIUS=this.NODE_RADIUS+10,this.LABEL_FONT_FAMILY="Helvetica",this.LABEL_FONT_SIZE=12,this.LABEL_X_PADDING=5,this.LABEL_Y_PADDING=-5,this.NODE_DEFAULT_BORDER_COLOR=15921906,this.NODE_FOCUSED_NODE_BORDER_COLOR=15724527,this.NODE_DEFAULT_ALPHA=1,this.NODE_BORDER_HIGHLIGHT_ALPHA=.9,this.NODE_BORDER_UN_HIGHLIGHT_ALPHA=0,this.NODE_SELECTED_STROKE_WIDTH=10,this.LINK_DEFAULT_LABEL_FONT_SIZE=10,this.LINK_DEFAULT_WIDTH=2,this.LINK_DEFAULT_COLOR=6710886,this.LINK_DEFAULT_LABEL_COLOR=5526612,this.LINK_DEFAULT_ALPHA=1,this.LINK_UN_HIGHLIGHT_ALPHA=.15,this.ICON_FONT_FAMILY="Font Awesome 5 Free",this.ICON_FONT_SIZE=this.NODE_RADIUS/Math.SQRT2*2,this.ICON_TEXT="f542",this.ZOOM_CLAMP_MIN_SCALE=.2,this.ZOOM_CLAMP_MAX_SCALE=3,this.NODE_MENU_X_PADDING=50+this.NODE_HIT_RADIUS,this.NODE_MENU_Y_PADDING=45+this.NODE_RADIUS,this.LABEL_RESOLUTION=4,t&&(this.SCREEN_WIDTH=t),n&&(this.SCREEN_HEIGHT=n),this.WORLD_WIDTH=this.SCREEN_WIDTH/4,this.WORLD_HEIGHT=this.SCREEN_HEIGHT/4,console.log(this.SCREEN_WIDTH,this.SCREEN_HEIGHT,this.WORLD_WIDTH,this.WORLD_HEIGHT)}),Te=n(46),xe=function(){function e(t,n,a){Object(l.a)(this,e),this.settings=t,this.alphaDecay=a,this.onForceSimulationEnd=n,this.forceSimulator=this.generateForceSimulation()}return Object(i.a)(e,[{key:"generateForceSimulation",value:function(){var e=this,t=Te.d().force("charge",Te.c().strength(this.settings.FORCE_LAYOUT_NODE_REPULSION_STRENGTH)).force("link",Te.b().id((function(e){return e.id})).distance(this.settings.DEFAULT_LINK_LENGTH)).force("collide",Te.a(this.settings.NODE_HIT_RADIUS).iterations(10)).force("x",Te.e()).force("y",Te.f());return this.alphaDecay&&t.alphaDecay(this.alphaDecay),this.onForceSimulationEnd&&t.on("end",(function(){return e.onForceSimulationEnd()})),t}},{key:"addDataToGraphSimulation",value:function(e,t){console.log("===addDataToGraphSimulation",e,t),this.forceSimulator.nodes(e),this.forceSimulator.force("link").links(t)}}]),e}(),Re=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.graphicsEngine&&this.onClickFocus()}},{key:"getLastSelectedNodeData",value:function(){return this.props.graphicsEngine?this.props.graphicsEngine.eventStore.lastSelectedNodeData:null}},{key:"onClickFocus",value:function(){var e=this.getLastSelectedNodeData();if(console.log("onClickFocus========",e),e){this.props.graphicsEngine.dataStore.addNode2Focus(e),this.props.graphicsEngine.zoom2Point(e.x,e.y);var t=this.props.graphicsEngine.dataStore.getUniqueFocusedNodes();this.props.setFocusedNodes(t),this.props.graphicsEngine.graphicsStore.focusOnElements(t),this.hideMenu()}}},{key:"onClickShowInV",value:function(){var e=this.getLastSelectedNodeData(),t=this.props.connector.requestBuilder.getInEdgeVertices(e.id);this.hideMenu(),this.props.makeQuery(t)}},{key:"onClickShowOutV",value:function(){var e=this.getLastSelectedNodeData();console.log("expandOutLinksAndNodes",e);var t=this.props.connector.requestBuilder.getOutEdgeVertices(e.id);this.hideMenu(),this.props.makeQuery(t)}},{key:"hideMenu",value:function(){this.props.graphicsEngine.eventStore.hideMenu()}},{key:"cleanGraph",value:function(){console.log("this.forceSimulator",this.forceSimulator),this.forceSimulator.forceSimulator.alphaTarget(.8).restart()}},{key:"resetFocus",value:function(){this.props.graphicsEngine.dataStore.removeAllNodes2Focus(),this.props.graphicsEngine.graphicsStore.resetFocus(),this.props.graphicsEngine.resetViewport()}},{key:"getVerboseIdentifier",value:function(){var e=this.getLastSelectedNodeData();if(console.log("=====lastSelectedNodeData",e),e){var t=e.meta.shapeOptions.fillColor,n=document.querySelector(".nodeMenuContainer h5");return n&&(n.style.color=t),e.meta.labelOptions.labelText}}},{key:"getIdentifier",value:function(){var e=this.getLastSelectedNodeData();if(console.log("=====lastSelectedNodeData",e),e)return e.id}},{key:"checkIfAlreadyFocused",value:function(){var e=this.getLastSelectedNodeData();e&&this.props.getFocusedNodes().forEach((function(t){if(t.id===e.id)return!0}))}},{key:"startNewQuery",value:function(){var e=this.getLastSelectedNodeData(),t=e.id,n="";n=Number.isInteger(t)?"g.V("+e.id+")":'g.V("'+e.id+'")',this.props.setRightContentName("query-console"),this.props.setDefaultQuery(n)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"nodeMenuContainer",style:{display:"none"}},r.a.createElement("h5",null,this.getVerboseIdentifier()),r.a.createElement("p",null,"ID: ",this.getIdentifier()),r.a.createElement("ul",{className:"nodeMenu"},this.checkIfAlreadyFocused()?r.a.createElement("li",{onClick:function(){return e.resetFocus()}},"Reset focus"):r.a.createElement("li",{onClick:function(){return e.onClickFocus()}},r.a.createElement(X.a,{icon:Z.i})," Focus"),r.a.createElement("li",{onClick:function(){return e.onClickShowInV()}},r.a.createElement(X.a,{icon:Z.b})," Show InV"),r.a.createElement("li",{onClick:function(){return e.onClickShowOutV()}},r.a.createElement(X.a,{icon:Z.c})," Show OutV"),r.a.createElement("li",{onClick:function(){return e.startNewQuery()}},r.a.createElement(X.a,{icon:Z.y})," Start Query"),r.a.createElement("li",{onClick:function(){return e.hideMenu()}},r.a.createElement(X.a,{icon:Z.p})," hide menu")))}}]),n}(r.a.Component);Re.defaultProps={getFocusedNodes:function(){return console.log("getFocusedNodes")},setFocusedNodes:function(e){return console.error("setFocusedNodes not set",e)},connector:null,makeQuery:function(){return console.error("makeQuery not set")},graphicsEngine:null,setDefaultQuery:function(e){return console.log("setDefaultQuery",e)},setRightContentName:function(e){return console.log("setRightContentName not set",e)}};var je=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={shallReRender:!0},a}return Object(i.a)(n,[{key:"checkAndAddNewData2Simulation",value:function(){console.log("PIXICanvas checkAndAddNewData2Simulation()",this.props.dataStore.getAllData()),this.graphicsEngine.clearCanvas(),this.graphicsEngine.isRendering=!0,this.props.setStatusMessage("Updating the graph...");var e=this.props.dataStore.determineAllDataToRender(),t=e.verticesToRender,n=e.edgesToRender;console.log("]=====verticesToRender, edgesToRender",t,n),this.forceSimulator.addDataToGraphSimulation(t,n),this.props.dataStore.setDataToRender(t,n),this.props.dataStore.setAlreadyRenderedData(t,n),console.log("vertices2RenderPrepared",t),!0===this.props.shallReRenderD3Canvas&&this.props.resetShallReRenderD3Canvas()}},{key:"shouldComponentUpdate",value:function(e){return console.log("shouldComponentUpdate || nextProps.shallReRenderD3Canvas",e.shallReRenderD3Canvas),e.shallReRenderD3Canvas||this.props.selectedElementData!==e.selectedElementData||!0===this.state.shallReRender}},{key:"componentDidUpdate",value:function(){console.log("componentDidUpdate",this.props.shallReRenderD3Canvas),this.props.shallReRenderD3Canvas&&this.renderPIXICanvas()}},{key:"renderPIXICanvas",value:function(){for(var e=this,t=document.querySelector(".canvas"),n=document.querySelector(".nodeMenuContainer");t.firstChild;)t.removeChild(t.firstChild);var a=null;this.graphicsEngine&&(a=this.graphicsEngine.eventStore.lastSelectedNodeData),console.log("canvasElem.offsetWidth,",t.offsetWidth,t.offsetHeight),this.settings=new we(t.offsetWidth,t.offsetHeight),this.graphicsEngine=new De(t,n,this.settings,this.props.dataStore,this.onElementSelected.bind(this)),this.props.setGraphicsEngine(this.graphicsEngine),a&&(this.graphicsEngine.eventStore.lastSelectedNodeData=a),this.forceSimulator=new xe(this.settings,(function(){console.log("========on onForceSimulationEnd "),e.onForceSimulationEnd(e.graphicsEngine,e.setStatusMessage.bind(e))})),this.checkAndAddNewData2Simulation()}},{key:"componentDidMount",value:function(){console.log("componentDidMount",this.props.shallReRenderD3Canvas),this.renderPIXICanvas()}},{key:"setStatusMessage",value:function(e){this.props.setStatusMessage(e)}},{key:"onForceSimulationEnd",value:function(e,t){console.log("onForceSimulationEnd",e,t),e.renderGraphics(),e.isRendering=!1,!0===e.isFirstLoaded&&(e.resetViewport(),e.isFirstLoaded=!1);var n=e.eventStore.lastSelectedNodeData;console.log("===lastSelectedNodeData",n);var a=e.dataStore.getUniqueFocusedNodes();n&&0===a.length?(e.zoom2Node(n.id),e.highlightNodeById(n.id)):a.length>0&&(e.graphicsStore.focusOnElements(a),e.zoom2Node(a[-0].id)),t("Updated the graph")}},{key:"onElementSelected",value:function(e){"vertex-options"!==this.props.middleBottomContentName&&(e?(this.props.setMiddleBottomContentName("selected-data-overview"),this.props.setSelectedElementData(e)):(this.props.setMiddleBottomContentName(null),this.props.setSelectedElementData(null)))}},{key:"render",value:function(){return console.log("this.state.focusedNodes",this.props.getFocusedNodes()),r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement(Re,{getFocusedNodes:this.props.getFocusedNodes,setFocusedNodes:this.props.setFocusedNodes,connector:this.props.connector,makeQuery:this.props.makeQuery,graphicsEngine:this.graphicsEngine,setDefaultQuery:this.props.setDefaultQuery,setRightContentName:this.props.setRightContentName}),r.a.createElement("div",{className:"graphContainer canvas"}))}}]),n}(r.a.Component);je.defaultProps={setHideVertexOptions:function(){return console.error("setHideVertexOptions not set")},setSelectedElementData:function(e){return console.error("setSelectedElementData not set",e)},setRightContentName:function(e){return console.error("setRightContentName not set",e)},setMiddleBottomContentName:function(e){return console.error("setMiddleBottomContentName not set",e)},middleBottomContentName:null,selectedElementData:null,setStatusMessage:function(e){return console.debug("setStatusMessage not set",e)},showVertexOptions:function(e){return console.debug("this.showVertexOptions not set",e)},connector:null,dataStore:null,resetShallReRenderD3Canvas:function(){return console.log("resetShallReRenderD3Canvas")},shallReRenderD3Canvas:!1,makeQuery:function(){return console.error("makeQuery not set")},setGraphicsEngine:function(e){return console.log("setGraphicsEngine not set",e)},getFocusedNodes:function(){return console.log("getFocusedNodes")},setFocusedNodes:function(e){return console.error("setFocusedNodes not set",e)},setDefaultQuery:function(e){return console.log("setDefaultQuery not set",e)}};var Ie=n(57),Ae=n.n(Ie),Ve=(n(145),new x.a),_e=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={rjv_component:!1},e}return Object(i.a)(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props.dataStore.getAllData(),n=t.vertices,a=t.edges;console.log("JSONCanvas",n,a);var o={vertexGroups:Ve.groupByLabel(Ve.removeMeta(n)),edgeGroups:Ve.groupByLabel(Ve.removeMeta(a))};setTimeout((function(){e.setState({rjv_component:r.a.createElement(Ae.a,{className:"p-10",theme:"monokai",style:{backgroundColor:"transparent"},src:o})})}),10)}},{key:"render",value:function(){return console.log("JsonCanvas render()"),r.a.createElement("div",{className:"jsonCanvas"},this.getJsonOrLoader(),"         ")}},{key:"getJsonOrLoader",value:function(){var e=this.state.rjv_component;return!1===e?r.a.createElement("div",{className:"loading-text"},"loading..."):e}}]),n}(r.a.Component);_e.defaultProps={dataStore:null};n(146);var Me=new x.a,He=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"getPropertyKeys",value:function(){return 0===this.props.data.length?[]:Object.keys(this.props.data[0].properties||{})}},{key:"getElementType",value:function(e){return"g:Vertex"===e.type?"V":"E"}},{key:"getElementColor",value:function(e){var t=this.getElementType(e);return"V"===t&&e.meta?e.meta.shapeOptions.fillColorHex:"E"===t&&e.meta?e.meta.shapeOptions.strokeColorHex:void 0}},{key:"getInELabels",value:function(){var e=this,t=[];return this.props.vertexSchema.inE.map((function(n){t.push({edgeFillColorHex:e.props.dataStore.getEdgeOptions(n)?e.props.dataStore.getEdgeOptions(n).shapeOptions.strokeColorHex:"#efefef",edgeLabel:n})})),t}},{key:"getOutELabels",value:function(){var e=this,t=[];return this.props.vertexSchema.outE.map((function(n){t.push({edgeFillColorHex:e.props.dataStore.getEdgeOptions(n)?e.props.dataStore.getEdgeOptions(n).shapeOptions.strokeColorHex:"#efefef",edgeLabel:n})})),t}},{key:"getFirstElement",value:function(){return this.props.data[0]}},{key:"render",value:function(){var e=this,t=this.getPropertyKeys(),n=this.getElementColor(this.props.data[0]),o={};"Vertex"===this.props.type?o=(Object(v.d)("nodeLabels",!0)||{})[this.props.label]||{}:o=(Object(v.d)("linkLabels",!0)||{})[this.props.label]||{};return r.a.createElement("div",{className:"VertexTableComponent"},r.a.createElement("table",{className:" mb-10 "},r.a.createElement("thead",null,r.a.createElement("tr",{style:{backgroundColor:o.bgColor}},r.a.createElement("th",{colSpan:2},"MetaData"),t.length?r.a.createElement("th",{colSpan:t.length},"Properties"):r.a.createElement(a.Fragment,null),r.a.createElement("th",{colSpan:this.getInELabels().length},"InE Data"),r.a.createElement("th",{colSpan:this.getOutELabels().length},"OutE Data")),r.a.createElement("tr",{style:{backgroundColor:o.bgColor}},r.a.createElement("td",null,"Label",r.a.createElement("span",null,"(",this.getElementType(this.getFirstElement()),")")),r.a.createElement("td",null,"Id"),t.map((function(e,t){return r.a.createElement("td",{key:t},e)})),this.getInELabels().map((function(e,t){return r.a.createElement("td",{key:t,style:{color:e.edgeFillColorHex}},e.edgeLabel)})),this.getOutELabels().map((function(e,t){return r.a.createElement("td",{key:t,style:{color:e.edgeFillColorHex}},e.edgeLabel)})))),r.a.createElement("tbody",null,this.props.data.map((function(a){return r.a.createElement("tr",{key:a.id},r.a.createElement("td",{style:{color:n}},a.label),r.a.createElement("td",null,a.id),t.map((function(e,t){return r.a.createElement("td",{key:t},P(0,a.properties[e]))})),e.getInELabels().map((function(e,t){var n=a.inData[e.edgeLabel]?a.inData[e.edgeLabel].vertices:[];return r.a.createElement("td",{key:t},n.map((function(e,t){return r.a.createElement("button",{className:"btn",key:t,title:e.label,style:{borderColor:e.fillColorHex}},e.labelText)})))})),e.getOutELabels().map((function(e,t){var n=a.outData[e.edgeLabel]?a.outData[e.edgeLabel].vertices:[];return r.a.createElement("td",{key:t},n.map((function(e,t){return r.a.createElement("button",{className:"btn",key:t,title:e.label,style:{borderColor:e.fillColorHex}},e.labelText)})))})))})))))}}]),n}(r.a.Component);He.defaultProps={data:null,label:null,vertexSchema:{},dataStore:null,type:null};var Ge=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"getPropertyKeys",value:function(){return 0===this.props.data.length?[]:Object.keys(this.props.data[0].properties||{})}},{key:"getElementType",value:function(e){return"g:Vertex"===e.type?"V":"E"}},{key:"getElementColor",value:function(e){var t=this.getElementType(e);return"V"===t&&e.meta?e.meta.shapeOptions.fillColorHex:"E"===t&&e.meta?e.meta.shapeOptions.strokeColorHex:void 0}},{key:"render",value:function(){var e=this.getPropertyKeys(),t=this.getElementColor(this.props.data[0]),n={};"Vertex"===this.props.type?n=(Object(v.d)("nodeLabels",!0)||{})[this.props.label]||{}:n=(Object(v.d)("linkLabels",!0)||{})[this.props.label]||{};return r.a.createElement("div",{className:"VertexTableComponent"},r.a.createElement("table",{className:" mb-10 "},r.a.createElement("thead",null,r.a.createElement("tr",{style:{backgroundColor:n.bgColor}},r.a.createElement("th",{colSpan:2},"MetaData"),e.length?r.a.createElement("th",{colSpan:e.length},"Properties"):r.a.createElement(a.Fragment,null),r.a.createElement("th",null,"from"),r.a.createElement("th",null,"to (outV)")),r.a.createElement("tr",{style:{backgroundColor:n.bgColor}},r.a.createElement("td",null,"Label",r.a.createElement("span",null,"(",this.getElementType(this.props.data[0]),")")),r.a.createElement("td",null,"Id"),e.map((function(e,t){return r.a.createElement("td",{key:t},e)})),r.a.createElement("td",null,"from"),r.a.createElement("td",null,"to (outV)"))),r.a.createElement("tbody",null,this.props.data.map((function(n){return r.a.createElement("tr",{key:n.id},r.a.createElement("td",{style:{color:t}},n.label),r.a.createElement("td",null,n.id),e.map((function(e,t){return r.a.createElement("td",{key:t},P(0,n.properties[e]))})),r.a.createElement("td",null,r.a.createElement("button",{className:"btn",title:n.label,style:{borderColor:n.source.meta.shapeOptions.fillColorHex}},n.source.meta.labelOptions.labelText)),r.a.createElement("td",null,r.a.createElement("button",{className:"btn",title:n.label,style:{borderColor:n.target.meta.shapeOptions.fillColorHex}},n.target.meta.labelOptions.labelText)))})))))}}]),n}(r.a.Component);Ge.defaultProps={data:null,label:null,type:null};var Pe=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=new we(0,0),n=new xe(t,null,.5),a=this.props.dataStore.determineAllDataToRender(),o=a.verticesToRender,s=a.edgesToRender;n.addDataToGraphSimulation(o,s);var l=Me.groupByLabel(o),i=Me.groupByLabel(s);return r.a.createElement("div",{className:"p-10 tableCanvas"},r.a.createElement("div",{className:"___responseBox "},Object.keys(l).map((function(t,n){return r.a.createElement(He,{type:"Vertex",key:t+n,vertexSchema:e.props.dataStore.getVertexSchema(t),dataStore:e.props.dataStore,label:t,data:l[t]})})),Object.keys(i).map((function(e,t){return r.a.createElement(Ge,{type:"Edge",key:i+t,label:e,data:i[e]})}))))}}]),n}(r.a.Component);Pe.defaultProps={dataStore:null};n(147);var Fe=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={rjv_component:!1},e}return Object(i.a)(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;console.log("====UNSAFE_componentWillMount",this.props.connector);var t={},n=this.props.connector.getLastResponse();if(n&&(t=n.result.data),null!==t){setTimeout((function(){e.setState({rjv_component:r.a.createElement(Ae.a,{className:"p-10",theme:"monokai",style:{backgroundColor:"transparent"},src:t})})}),10)}else this.setState({rjv_component:r.a.createElement("p",null,"Response is null")})}},{key:"render",value:function(){return r.a.createElement("div",{className:"rawResponseCanvas p-10"},r.a.createElement("h4",null,"Raw Response(from last Query only)"),this.getJsonOrLoader())}},{key:"getJsonOrLoader",value:function(){var e=this.state.rjv_component;return!1===e?r.a.createElement("div",{className:"loading-text"},"loading..."):e}}]),n}(r.a.Component);Fe.defaultProps={connector:null};n(148);var Be=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"filter-nodes"},r.a.createElement(ae,{title:"Filter data in canvas",onClickClose:function(){return e.props.onClose(null)},showToggleBtn:!1},r.a.createElement("div",{className:"p-10"},r.a.createElement("label",null,"Filter Nodes and links"),r.a.createElement("br",null),r.a.createElement("p",{style:{color:"#b85f5f"}},"Still in design phase."))))}}]),n}(r.a.Component);Be.defaultProps={onClose:function(){return console.log("")}};n(149),n(150);var Ue=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"ge-modal",style:this.props.style},this.props.title?r.a.createElement("div",{className:"ge-modal-header"},r.a.createElement("h4",null,this.props.title)):r.a.createElement("span",null),r.a.createElement("div",{className:"ge-modal-body"},this.props.children))}}]),n}(r.a.Component),qe=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={nodeTextOrId:"",queryResults:[],infoMessage:null,errorMessage:null},e}return Object(i.a)(n,[{key:"onQueryChange",value:function(e){var t=e.target.value,n=[];t?n=this.props.dataStore.searchNodeByNodeLabelTextOrId(t):this.setState({infoMessage:null,errorMessage:null}),this.setState({nodeTextOrId:t,queryResults:n})}},{key:"onFormSubmit",value:function(e){e.preventDefault(),e.stopPropagation(),this.onFocusNodeClicked()}},{key:"onFocusNodeClicked",value:function(e){var t=this.state.nodeTextOrId;if(console.log("======****nodeData",e),console.log("======****nodeLabel",t),e){if(this.props.getGraphicsEngine()){this.props.getGraphicsEngine().dataStore.addNode2Focus(e);var n=Object.assign([],this.props.getGraphicsEngine().dataStore.getUniqueFocusedNodes());this.props.getGraphicsEngine().graphicsStore.focusOnElements(n),console.log("======uniqueNodes",n),this.props.setFocusedNodes(n),this.props.getGraphicsEngine().zoom2Point(e.x,e.y),this.setInfoMessage("Centered and highlighted the node '"+t+"'")}}else this.setErrorMessage("Unable to find the node with label or text '"+t+"'. NOTE: this search is case sensitive")}},{key:"setErrorMessage",value:function(e){this.setState({errorMessage:e,infoMessage:null})}},{key:"setInfoMessage",value:function(e){this.setState({errorMessage:null,infoMessage:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"focus-node"},r.a.createElement(Ue,null,r.a.createElement(ae,{title:"Find and Focus a node in canvas",onClickClose:function(){return e.props.onClose(null)},showToggleBtn:!1},r.a.createElement("div",{className:"p-10"},r.a.createElement("form",{id:"queryForm",onSubmit:function(t){return e.onFormSubmit(t)}},r.a.createElement("label",null,"Search for node by label or Id to focus on"),r.a.createElement("input",{type:"text",spellCheck:!1,autoFocus:!0,value:this.state.nodeTextOrId,onChange:this.onQueryChange.bind(this),placeholder:"Node label text or Id"})),r.a.createElement("br",null),this.state.queryResults?r.a.createElement("ul",{className:"focus-results"},this.state.queryResults.map((function(t,n){return r.a.createElement("li",{onClick:function(){return e.onFocusNodeClicked(t)},key:n},r.a.createElement("span",{style:{backgroundColor:t.meta.shapeOptions.fillColorHex}},"."),t.meta.labelOptions.labelText)}))):r.a.createElement("span",null),this.state.errorMessage?r.a.createElement("p",{className:"error-message small"},r.a.createElement("strong",null,"Error:")," ",this.state.errorMessage):r.a.createElement("span",null),this.state.infoMessage?r.a.createElement("p",{className:"info-message small"},r.a.createElement("strong",null,"Info:")," ",this.state.infoMessage):r.a.createElement("span",null)))))}}]),n}(r.a.Component);qe.defaultProps={onClose:function(){return console.log("")},dataStore:null,getGraphicsEngine:null,setFocusedNodes:null};var Qe=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={canvasMenuType:null},a}return Object(i.a)(n,[{key:"switchToCanvasMenu",value:function(e){console.log("updating canvasMenuType",e),this.setState({canvasMenuType:e})}},{key:"componentDidUpdate",value:function(e){e.defaultQuery!==this.props.defaultQuery&&this.props.defaultQuery&&this.switchToCanvasMenu("query-console")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main-content-nav-left"},r.a.createElement(Y,{type:"aside-nav"},r.a.createElement("li",null,r.a.createElement("div",{className:"canvasToggle"},r.a.createElement("button",{className:"graph"===this.props.canvasType?"selected":"",style:{padding:"11px 11px",fontSize:"11px"},onClick:function(){return e.props.canvasCtrl.switchCanvasTo("graph")}},r.a.createElement(X.a,{icon:Z.s})),r.a.createElement("button",{className:"table"===this.props.canvasType?"selected":"",onClick:function(){return e.props.canvasCtrl.switchCanvasTo("table")}},r.a.createElement(X.a,{icon:Z.x})))),r.a.createElement("li",null,r.a.createElement("button",{title:"clear the canvas",onClick:function(){return e.props.canvasCtrl.confirmFlushCanvas()}},r.a.createElement(X.a,{icon:Z.A}))),r.a.createElement("li",{style:{display:"graph"===this.props.canvasType?"":"none"}},r.a.createElement("button",{title:"re render the canvas",onClick:function(){return e.props.canvasCtrl.confirmRedrawCanvas()}},r.a.createElement(X.a,{icon:Z.w}))),r.a.createElement("li",{style:{display:"graph"===this.props.canvasType?"":"none"}},r.a.createElement("button",{onClick:function(){return e.props.canvasCtrl.downloadCanvasImage()}},r.a.createElement(X.a,{icon:Z.e}))),r.a.createElement("li",{style:{display:"graph"===this.props.canvasType?"":"none"}},r.a.createElement("button",{onClick:function(){return e.switchToCanvasMenu("focus-node")}},r.a.createElement(X.a,{icon:Z.t}))),r.a.createElement("li",{style:{display:"none"}},r.a.createElement("button",{onClick:function(){return e.switchToCanvasMenu("filter-nodes")}},r.a.createElement(X.a,{icon:Z.k})))),r.a.createElement(Y,{type:"aside-nav"}),"filter-nodes"===this.state.canvasMenuType?r.a.createElement(Be,{onClose:this.switchToCanvasMenu.bind(this)}):"focus-node"===this.state.canvasMenuType?r.a.createElement(qe,{onClose:this.switchToCanvasMenu.bind(this),dataStore:this.props.dataStore,getGraphicsEngine:this.props.getGraphicsEngine,setFocusedNodes:this.props.setFocusedNodes}):r.a.createElement(a.Fragment,null))}}]),n}(r.a.Component);Qe.defaultProps={canvasType:null,canvasCtrl:null,connector:null,dataStore:null,getGraphicsEngine:function(){return console.log("getGraphicsEngine not set")},makeQuery:function(e){return console.log("makeQuery not set ",e)},setFocusedNodes:function(e){return console.log("setFocusedNodes not set ",e)},defaultQuery:null,setDefaultQuery:function(e){return console.log("setDefaultQuery",e)},setRightContentName:function(){return console.log("setRightContentName")}};var Ke=function(){function e(t,n,a,r,o,s){Object(l.a)(this,e),this.connector=t,this.dataStore=n,this.updateCanvasState=a,this.setStatusMessage=r,this.flushCanvas=o,this.setShallReRenderD3Canvas=s}return Object(i.a)(e,[{key:"switchCanvasTo",value:function(e){this.updateCanvasState({canvasType:e}),this.setStatusMessage("Canvas switched to "+e)}},{key:"confirmFlushCanvas",value:function(){!0===window.confirm("Are you sure you want to clear the canvas")&&this.flushCanvas()}},{key:"confirmRedrawCanvas",value:function(){!0===window.confirm("Are you sure you want to re-draw the canvas")&&this.setShallReRenderD3Canvas(!0)}},{key:"downloadCanvasImage",value:function(){var e,t=document.querySelector("canvas"),n=document.createElement("a");n.download="image.png",n.href=t.toDataURL("image/png;base64"),document.createEvent?((e=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(e)):n.fireEvent&&n.fireEvent("onclick")}}]),e}(),Je=(n(151),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"removeFocusedNode",value:function(e){console.log("removeFocusedNode",e),this.props.removeFocusedNode(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"focused-nodes-list"},r.a.createElement(Y,null,this.props.focusedNodes.map((function(t,n){return console.log("=====focusedNode",t),r.a.createElement("li",{key:n,className:"focused-node",style:{backgroundColor:t.meta.shapeOptions.fillColorHex,color:Object(v.e)(t.meta.shapeOptions.fillColorHex,!0)}},t.meta.labelOptions.labelText,r.a.createElement("span",{className:"close",style:{color:Object(v.e)(t.meta.shapeOptions.fillColorHex,!0)},onClick:function(){return e.removeFocusedNode(t.id)}},r.a.createElement(X.a,{icon:Z.B})))}))))}}]),n}(r.a.Component));Je.defaultProps={focusedNodes:[],removeFocusedNode:function(e){return console.log("removedFocusedNode",e)}};var We=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={defaultQuery:"",canvasType:"graph",graphicsEngine:null,focusedNodes:[]},a.canvasCtrl=new Ke(a.props.connector,a.props.dataStore,a.updateCanvasState.bind(Object(Ce.a)(a)),a.props.setStatusMessage,a.props.flushCanvas,a.props.setShallReRenderD3Canvas),a}return Object(i.a)(n,[{key:"setFocusedNodes",value:function(e){this.setState({focusedNodes:e})}},{key:"getFocusedNodes",value:function(){return this.state.focusedNodes}},{key:"updateCanvasState",value:function(e){this.setState(e)}},{key:"setGraphicsEngine",value:function(e){this.setState({graphicsEngine:e})}},{key:"getGraphicsEngine",value:function(){return this.state.graphicsEngine}},{key:"componentDidUpdate",value:function(){document.querySelector(".main-content-body").addEventListener("contextmenu ",(function(){return console.log("Right Click"),!1}))}},{key:"removeFocusedNode",value:function(e){var t=this.getGraphicsEngine(),n=t.dataStore.getUniqueFocusedNodes();t.dataStore.removeNodeFromFocus(e);var a=null;n.forEach((function(t,n){if(t.id===e)return a=n,n})),n.splice(a,1),console.log("===indexId",a),console.log("focusedNodes removed",n),this.setFocusedNodes(n),0!==n.length?t.graphicsStore.focusOnElements(n):t.graphicsStore.resetFocus(),t.requestRender()}},{key:"setDefaultQuery",value:function(e){this.setState({defaultQuery:e}),this.props.addQueryToState(e)}},{key:"render",value:function(){var e=this;return console.log("canvasQuery:",this.state.defaultQuery,"---",this.props.query),r.a.createElement("div",{style:{height:"inherit"}},r.a.createElement(Qe,{canvasType:this.state.canvasType,canvasCtrl:this.canvasCtrl,makeQuery:this.props.makeQuery,connector:this.props.connector,dataStore:this.props.dataStore,getGraphicsEngine:this.getGraphicsEngine.bind(this),setFocusedNodes:this.setFocusedNodes.bind(this),defaultQuery:this.props.query,setDefaultQuery:this.setDefaultQuery.bind(this),setRightContentName:this.props.setRightContentName}),r.a.createElement("div",{className:"main-content-body"},"graph"===this.state.canvasType&&this.props.connector.getLastResponse()?r.a.createElement(Je,{focusedNodes:this.state.focusedNodes,removeFocusedNode:this.removeFocusedNode.bind(this)}):r.a.createElement("span",null),r.a.createElement(ke,null,"graph"===e.state.canvasType&&e.props.connector.getLastResponse()?r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement(je,{setHideVertexOptions:e.props.setHideVertexOptions,setSelectedElementData:e.props.setSelectedElementData,setRightContentName:e.props.setRightContentName,setMiddleBottomContentName:e.props.setMiddleBottomContentName,middleBottomContentName:e.props.middleBottomContentName,selectedElementData:e.props.selectedElementData,setStatusMessage:e.props.setStatusMessage,setGraphicsEngine:e.setGraphicsEngine.bind(e),connector:e.props.connector,dataStore:e.props.dataStore,resetShallReRenderD3Canvas:e.props.resetShallReRenderD3Canvas,shallReRenderD3Canvas:e.props.shallReRenderD3Canvas,makeQuery:e.props.makeQuery,setFocusedNodes:e.setFocusedNodes.bind(e),getFocusedNodes:e.getFocusedNodes.bind(e),setDefaultQuery:e.setDefaultQuery.bind(e)})):"json"===e.state.canvasType&&e.props.connector.getLastResponse()?r.a.createElement(_e,{dataStore:e.props.dataStore}):"table"===e.state.canvasType&&e.props.connector.getLastResponse()?r.a.createElement(Pe,{dataStore:e.props.dataStore}):"raw"===e.state.canvasType&&e.props.connector.getLastResponse()?r.a.createElement(Fe,{connector:e.props.connector}):r.a.createElement("span",null))))}}]),n}(r.a.Component);We.defaultProps={setHideVertexOptions:function(){return console.error("setHideVertexOptions not set")},setSelectedElementData:function(e){return console.error("setSelectedElementData not set",e)},setRightContentName:function(e){return console.error("setRightContentName not set",e)},setMiddleBottomContentName:function(e){return console.error("setMiddleBottomContentName not set",e)},middleBottomContentName:null,selectedElementData:null,setStatusMessage:function(e){return console.debug("setStatusMessage not set",e)},showVertexOptions:function(e){return console.debug("this.showVertexOptions not set",e)},connector:!1,dataStore:null,resetShallReRenderD3Canvas:function(){return console.log("resetShallReRenderD3Canvas")},shallReRenderD3Canvas:!1,makeQuery:function(){return console.error("makeQuery not set")},flushCanvas:function(){return console.error("flushCanvas not set")},setShallReRenderD3Canvas:function(e){return console.error("setShallReRenderD3Canvas not set",e)},query:null,addQueryToState:function(e){return console.error("addQueryToState not implemented",e)}};n(152);var ze=n(74),Ye=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onEnterPress=function(e){13===e.keyCode&&!0===e.shiftKey&&(e.preventDefault(),e.stopPropagation(),a.formRef.dispatchEvent(new Event("submit")))},a.state={defaultQuery:a.props.defaultQuery},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;document.getElementsByTagName("textarea")[0].focus(),ze.bind("esc",(function(){return e.props.onClose()}))}},{key:"componentWillUnmount",value:function(){ze.unbind("esc")}},{key:"onQueryChange",value:function(e){this.setState({defaultQuery:e.target.value})}},{key:"onFormSubmit",value:function(e,t){if(t.preventDefault(),t.stopPropagation(),console.log("=====_this",e),t.target.query.value){var n=e.props.connector.requestBuilder.rawQuery(t.target.query.value);e.props.makeQuery(n,{source:"console"})}else alert("Query cannot be null")}},{key:"render",value:function(){var e=this;return console.log("queryConsole=======",this.props.defaultQuery),r.a.createElement("div",{className:"queryConsole"},r.a.createElement(ae,{title:"Query Console",showToggleBtn:!1,showCloseBtn:!1},r.a.createElement("div",{className:"p-10"},r.a.createElement("form",{ref:function(t){return e.formRef=t},id:"queryForm",onSubmit:function(t){return e.onFormSubmit(e,t)}},r.a.createElement("textarea",{spellCheck:!1,autoFocus:!0,onChange:this.onQueryChange.bind(this),name:"query",onKeyDown:this.onEnterPress.bind(this),value:this.state.defaultQuery,placeholder:this.props.defaultPlaceholderText}),r.a.createElement("div",{className:"queryOptions"},r.a.createElement("div",{className:"float-left"},r.a.createElement("button",{className:"button m-0",type:"submit",onSubmit:function(t){return e.onFormSubmit.bind(e,t)}},r.a.createElement(X.a,{icon:Z.q})," Run Query")),r.a.createElement("div",{className:"float-right"}))))))}}]),n}(r.a.Component);Ye.defaultProps={makeQuery:function(){return console.log("No Query Handler added yet")},connector:null,flushCanvas:function(){return console.log("flushCanvas added  to QueryConsole")},defaultPlaceholderText:"g.V().limit(5).toList();",onClose:function(){return console.log("onClose not implemented")},defaultQuery:null};var Xe=n(74),Ze=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state=Object(m.a)(Object(m.a)({},e.state),{},{focusedNodes:[]}),e}return Object(i.a)(n,[{key:"processResponse",value:function(e){Object(d.a)(Object(h.a)(n.prototype),"processResponse",this).call(this,e),this.extendGraph(e)}},{key:"getQueryFromUrl",value:function(){return new URLSearchParams(window.location.search).get("query")}},{key:"getLatestResponse",value:function(){var e=this.connector.getLastResponse();return e?{status:e.getStatusCode(),response:e.getResponseData(),error:e.getError()}:{status:null,response:null,error:null}}},{key:"setupHotKeys",value:function(){var e=this;Xe.bind("ctrl+1",(function(){return e.switchCanvasTo("graph")})),Xe.bind("ctrl+2",(function(){return e.switchCanvasTo("table")})),Xe.bind("ctrl+3",(function(){return e.switchCanvasTo("json")})),Xe.bind("ctrl+4",(function(){return e.switchCanvasTo("raw")})),Xe.bind("shift+h",(function(){return e.setLeftContent("history")})),Xe.bind("esc",(function(){return e.setLeftContent(null)}))}},{key:"unSetupHotKeys",value:function(){Xe.unbind("ctrl+1"),Xe.unbind("ctrl+2"),Xe.unbind("ctrl+3"),Xe.unbind("ctrl+4"),Xe.unbind("shift+/"),Xe.unbind("shift+h"),Xe.unbind("esc")}},{key:"componentWillUnmount",value:function(){Object(d.a)(Object(h.a)(n.prototype),"componentWillUnmount",this).call(this),this.unSetupHotKeys()}},{key:"componentDidMount",value:function(){var e=this;Object(v.g)(),Object(d.a)(Object(h.a)(n.prototype),"componentDidMount",this).call(this),setTimeout((function(){return e.loadQueryFromUrl()}),300),this.setupHotKeys()}},{key:"loadQueryFromUrl",value:function(){var e=this.getQueryFromUrl();e&&"null"!==e&&this.makeQuery(e,{source:"console"})}},{key:"onErrorMessageFlyoutClose",value:function(){this.setState({errorMessage:null})}},{key:"addQueryToConsole",value:function(e){this.addQueryToState(e)}},{key:"reRenderCanvas",value:function(){Object(d.a)(Object(h.a)(n.prototype),"reRenderCanvas",this).call(this),this.setState({verticesCount:this.dataStore.getVerticesCount(),edgesCount:this.dataStore.getEdgesCount()})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(z,null,r.a.createElement(Y,{type:"nav-left"},r.a.createElement("li",{className:"logo"},r.a.createElement("a",{href:"/",className:"no-bg"},r.a.createElement("strong",null,"Graph Explorer")))),r.a.createElement(Y,{type:"nav-right"},r.a.createElement("li",null,r.a.createElement("button",{className:"learn"===this.state.rightContentName?"selected no-bg":"no-bg",onClick:function(){return e.setRightContentName("learn")}},r.a.createElement(X.a,{icon:Z.h})," Get Started")),r.a.createElement("li",null,r.a.createElement("button",{className:"founder-note"===this.state.rightContentName?"selected no-bg":"no-bg",onClick:function(){return e.setRightContentName("founder-note")}},r.a.createElement(X.a,{icon:Z.v}))),r.a.createElement("li",null,r.a.createElement("button",{className:"settings"===this.state.rightContentName?"selected no-bg":"no-bg",onClick:function(){return e.setRightContentName("settings")}},r.a.createElement(X.a,{icon:Z.f}))),r.a.createElement("li",{style:{padding:"0 5px"}},r.a.createElement("a",{style:{padding:0},rel:"noopener noreferrer",target:"_blank",href:f.s},r.a.createElement("img",{src:"https://img.shields.io/github/stars/invanalabs/graph-explorer?color=%23429770&label=stars&logo=github&style=flat-square",alt:""}))))),r.a.createElement(ee,null,r.a.createElement(te,null,r.a.createElement(ne,{extraClass:this.state.leftContentName?"":"closed"}),r.a.createElement(oe,{extraClass:this.state.leftContentName?"":"expanded",secondaryChild:"error-console"===this.state.bottomContentName?r.a.createElement(se,null,r.a.createElement(ae,{title:"Response Console",onClickClose:function(){return e.setBottomContentName(null)},showToggleBtn:!1},this.state.errorMessage?r.a.createElement("pre",null,JSON.stringify(this.state.errorMessage,null,2)):r.a.createElement("span",null,r.a.createElement("pre",null,JSON.stringify(this.getLatestResponse().error,null,2))))):r.a.createElement("span",null)},r.a.createElement(We,{setStatusMessage:this.setStatusMessage.bind(this),setHideVertexOptions:this.setHideVertexOptions.bind(this),setSelectedElementData:this.setSelectedElementData.bind(this),setRightContentName:this.setRightContentName.bind(this),setMiddleBottomContentName:this.setMiddleBottomContentName.bind(this),middleBottomContentName:this.state.middleBottomContentName,selectedElementData:this.state.selectedElementData,connector:this.connector,dataStore:this.dataStore,resetShallReRenderD3Canvas:this.resetShallReRenderD3Canvas.bind(this),shallReRenderD3Canvas:this.state.shallReRenderD3Canvas,setShallReRenderD3Canvas:this.setShallReRenderD3Canvas.bind(this),makeQuery:this.makeQuery.bind(this),flushCanvas:this.flushCanvas.bind(this),query:this.state.query,addQueryToState:this.addQueryToState.bind(this)})),r.a.createElement(re,null,r.a.createElement("div",{className:this.state.middleBottomContentName?"main-content-top":"main-content-top bottom-closed"},r.a.createElement("div",{className:"main-content-nav"},r.a.createElement(Y,null,r.a.createElement("li",{style:{paddingLeft:"3px"}},r.a.createElement("button",{className:"vertices-management"===this.state.middleTopContentName?"active":"",onClick:function(){return e.setMiddleTopContentName("vertices-management")}},"Vertices")),r.a.createElement("li",null,r.a.createElement("button",{className:"edges-management"===this.state.middleTopContentName?"active":"",onClick:function(){return e.setMiddleTopContentName("edges-management")}},"Edges")))),"vertices-management"===this.state.middleTopContentName?r.a.createElement(me,{parentGraphComponent:this,setShowVertexOptions:this.setShowVertexOptions.bind(this)}):"edges-management"===this.state.middleTopContentName?r.a.createElement(ge,{parentGraphComponent:this,setShowVertexOptions:this.setShowVertexOptions.bind(this)}):r.a.createElement("div",null)),r.a.createElement("div",{className:this.state.middleBottomContentName?"main-content-bottom":"main-content-bottom closed"},"selected-data-overview"===this.state.middleBottomContentName&&this.state.selectedElementData?r.a.createElement(ae,{title:this.state.selectedElementData.meta.labelOptions.labelText||this.state.selectedElementData.id.toString(),headerStyle:{color:"g:Vertex"===this.state.selectedElementData.type?this.state.selectedElementData.meta.shapeOptions.fillColorHex:this.state.selectedElementData.meta.shapeOptions.strokeColorHex},showToggleBtn:!1,showCloseBtn:!0,onClickClose:function(){e.setHideVertexOptions(),e.setRightContentName(null)}},r.a.createElement(ve,{selectedData:this.state.selectedElementData,onClose:function(){e.setSelectedElementData(null),e.setRightContentName(null)}})):"vertex-options"===this.state.middleBottomContentName&&this.state.selectedLabel?r.a.createElement(ae,{title:this.state.selectedLabel+" | Element Options",onClickClose:function(){e.setHideVertexOptions(),e.setRightContentName(null)},showToggleBtn:!1},r.a.createElement(ye,{selectedLabel:this.state.selectedLabel,selectedLabelType:this.state.selectedLabelType,setStatusMessage:this.setStatusMessage.bind(this),setErrorMessage:this.setErrorMessage.bind(this),onClose:function(){e.setHideVertexOptions.bind(e),e.setRightContentName(null)},reRenderCanvas:this.reRenderCanvas.bind(this),setShallReRenderD3Canvas:this.setShallReRenderD3Canvas.bind(this)})):r.a.createElement("span",null))),r.a.createElement(Y,{type:"aside"},r.a.createElement("li",{style:{marginTop:"22px"}},r.a.createElement("button",{onClick:function(){return e.setRightContentName(null)},className:null===this.state.rightContentName?"selected":""},r.a.createElement(X.a,{icon:Z.m}),r.a.createElement("span",null,"Overview"))),r.a.createElement("li",{style:{marginTop:"97px"}},r.a.createElement("button",{onClick:function(){return e.setRightContentName("query-console")},className:"query-console"===this.state.rightContentName?"selected":""},r.a.createElement(X.a,{icon:Z.y}),r.a.createElement("span",null,"Query\xa0Console"))),r.a.createElement("li",{style:{marginTop:"125px"}},r.a.createElement("button",{onClick:function(){return e.setRightContentName("history")},className:"history"===this.state.rightContentName?"selected":""},r.a.createElement(X.a,{icon:Z.l}),r.a.createElement("span",null,"History"))),r.a.createElement("li",{style:{marginTop:"80px"}},r.a.createElement("button",{onClick:function(){return e.setRightContentName("support")},className:"support"===this.state.rightContentName?"selected":""},r.a.createElement(X.a,{icon:Z.o}),r.a.createElement("span",null,"Support"))),r.a.createElement("li",{style:{marginTop:"80px"}},r.a.createElement("button",{onClick:function(){return e.setRightContentName("about")},className:"about"===this.state.rightContentName?"selected":""},r.a.createElement(X.a,{icon:Z.n}),r.a.createElement("span",null,"About")))))),r.a.createElement(le,null,r.a.createElement(Y,{type:"nav-left"},this.state.isConnected2Gremlin?r.a.createElement("li",{className:"ml-5"},r.a.createElement($,{isConnected2Gremlin:this.state.isConnected2Gremlin})):r.a.createElement("span",null),r.a.createElement("li",null,r.a.createElement("span",null,this.state.statusMessage," ")),this.state.isLoading&&this.state.loaderElapsedTimer&&this.state.loaderElapsedTimer>0?r.a.createElement("li",null,r.a.createElement("span",null,"(",this.state.loaderElapsedTimer,"s elapsed)")):r.a.createElement("span",null)),r.a.createElement(Y,{type:"nav-right"},r.a.createElement("li",null,r.a.createElement("button",{className:"no-bg"},this.getProtocol()," protocol")),this.getLatestResponse().status?r.a.createElement("li",null,r.a.createElement("button",{className:"no-bg",onClick:function(){return e.setBottomContentName("error-console")}},r.a.createElement("span",null,this.getLatestResponse().status?this.getLatestResponse().status<200&&this.getLatestResponse().status>300?r.a.createElement("strong",{className:"error-badge"},this.getLatestResponse().status):r.a.createElement("strong",{className:"ok-badge"},this.getLatestResponse().status):r.a.createElement("strong",null,"NA"),"\xa0response"),r.a.createElement("span",null,this.queryEndedAt-this.queryStartedAt," ms"))):r.a.createElement("li",null,r.a.createElement("span",null)),r.a.createElement("li",null,r.a.createElement("span",null,this.state.canvasType," canvas")),r.a.createElement("li",null,r.a.createElement("span",null,this.dataStore.getVerticesCount()," vertices, ",this.dataStore.getEdgesCount()," edges")))),this.state.rightContentName?r.a.createElement(ie,null,console.log("========== rightContentName",this.state.rightContentName),"founder-note"===this.state.rightContentName?r.a.createElement(ae,{title:"Note from Author",onClickClose:function(){return e.setRightContentName(null)},showToggleBtn:!1}," ",r.a.createElement(Ee,{setRightContentName:this.setRightContentName.bind(this),onClose:function(){return e.setRightContentName(null)}})):"whats-new"===this.state.rightContentName?r.a.createElement(ae,{title:"What's New",onClickClose:function(){return e.setRightContentName(null)},showToggleBtn:!1}," ",r.a.createElement(be,{setLeftContent:this.setLeftContent.bind(this),onClose:function(){return e.setRightContentName(null)}})):r.a.createElement("span",null),"settings"===this.state.rightContentName?r.a.createElement(ae,{title:"Settings",onClickClose:function(){return e.setRightContentName(null)},showToggleBtn:!1},r.a.createElement(ce,null)):"learn"===this.state.rightContentName?r.a.createElement(ae,{title:"Get Started",onClickClose:function(){return e.setRightContentName(null)},showToggleBtn:!1},r.a.createElement(ue,{addQueryToConsole:this.addQueryToConsole.bind(this),makeQuery:this.makeQuery.bind(this),onClose:function(){return e.setLeftContent(null)}})):"support"===this.state.rightContentName?r.a.createElement(ae,{title:"Support",showCloseBtn:!1,showToggleBtn:!1},r.a.createElement(pe,null)):"about"===this.state.rightContentName?r.a.createElement(ae,{title:"About",showCloseBtn:!1,showToggleBtn:!1},r.a.createElement(fe,null)):r.a.createElement("span",null)):r.a.createElement("span",null),!this.state.rightContentName||"history"!==this.state.rightContentName&&"query-console"!==this.state.rightContentName?r.a.createElement("span",null):r.a.createElement(ie,{size:"lg"},"history"===this.state.rightContentName?r.a.createElement(ae,{title:"History",showToggleBtn:!1,showCloseBtn:!1},r.a.createElement(de,{makeQuery:this.makeQuery.bind(this),addQueryToConsole:this.addQueryToConsole.bind(this)})):"query-console"===this.state.rightContentName?r.a.createElement(Ye,{makeQuery:this.makeQuery.bind(this),connector:this.connector,defaultQuery:this.state.query,onClose:function(){e.setRightContentName(null)}}):r.a.createElement("span",null)),Object(d.a)(Object(h.a)(n.prototype),"render",this).call(this))}}]),n}(W),$e=(n(153),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.location;return r.a.createElement("div",{className:"error-view-404"},r.a.createElement("h2",null,"No match found for ",r.a.createElement("code",null,e.pathname)),r.a.createElement("p",null,r.a.createElement("a",{href:document.referrer,title:document.referrer},"\u2190 go back"," ")," ","or ",r.a.createElement("a",{href:"/"}," go home")))}}]),n}(r.a.Component)),et=(n(154),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={errorMessage:null,showExtraHeaderOptions:!1,extraHeadersCount:1},a}return Object(i.a)(n,[{key:"checkIfSecureProtocol",value:function(e){var t=new URL(e).protocol;return"https:"===t||"wss:"===t}},{key:"getHeaders",value:function(){var e={};return document.querySelectorAll(".headerItem").forEach((function(t){var n=t.querySelector(".headerKey").value,a=t.querySelector(".headerValue").value;console.log("======",n,a),e[n]=a})),e}},{key:"onFormSubmit",value:function(e){var t=e.target.gremlinServerUrl.value,n=e.target.graphEngineName.value;if(e.preventDefault(),t){if(this.checkIfSecureProtocol(window.location.href)&&!this.checkIfSecureProtocol(t))alert("Your connection string is not secure. You can only use https or wss connection string when you are using Graph Explorer via https connection.");else if(t){var a=this.getHeaders();Object(v.h)(f.o.gremlinServerUrlKey,t),Object(v.h)(f.o.httpHeadersKey,a),Object(v.h)(f.o.graphEngineName,n),window.location.href="/"}}else alert("Invalid connection string")}},{key:"openDemo",value:function(){window.open(f.c)}},{key:"getErrorFromUrlString",value:function(){return new URLSearchParams(window.location.search).get("error")}},{key:"componentDidMount",value:function(){function e(e){console.log("event",e.target.id);var t=document.querySelector("[name=gremlinServerUrl]");"gremlinEngine"===e.target.id?t.placeholder="http://localhost:8182/gremlin":t.placeholder="http://localhost:8000/graphql"}document.querySelectorAll("input[name='graphEngineName']").forEach((function(t){t.addEventListener("change",e)}));var t=this.getErrorFromUrlString();t&&alert(t)}},{key:"toggleMoreOptions",value:function(){var e="To provide custom headers, you need to provide connection string with http(s) protocol.",t=document.querySelector('[name="gremlinServerUrl"]').value;t?new URL(t).protocol.includes("http")?this.setState({showExtraHeaderOptions:!this.state.showExtraHeaderOptions}):alert(e):alert(e)}},{key:"addNewHeader",value:function(){this.setState({extraHeadersCount:this.state.extraHeadersCount+1})}},{key:"removeHeader",value:function(){this.setState({extraHeadersCount:this.state.extraHeadersCount-1})}},{key:"render",value:function(){var e=this,t=Array.from({length:this.state.extraHeadersCount},(function(e,t){return t+1}));return r.a.createElement("div",null,r.a.createElement("div",{className:"connect-heading"},r.a.createElement("p",{className:"invana-logo"},"Invana"),r.a.createElement("h1",null,"Graph Explorer ",r.a.createElement("small",null,"(",f.u,")")),r.a.createElement("p",null,f.a)),r.a.createElement("div",{className:"github-stars"},r.a.createElement("a",{href:"https://github.com/invanalabs/graph-explorer",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://img.shields.io/github/stars/invanalabs/graph-explorer?color=%23429770&label=stars%20on%20github&logo=github&style=for-the-badge",alt:""}))),r.a.createElement(Ue,{title:null,size:"md",style:{position:"relative",left:"20px",width:"450px",borderBottomWidth:"4px"}},r.a.createElement("div",{className:"connect"},r.a.createElement("div",{className:"top-section"},r.a.createElement("h4",null,r.a.createElement(X.a,{icon:Z.r})," Connect to Invana Engine ")),r.a.createElement("div",{className:"bottom-section"},r.a.createElement("form",{action:"",onSubmit:this.onFormSubmit.bind(this)},r.a.createElement("input",{type:"hidden",id:"invanaEngine",name:"graphEngineName",value:"invana-engine"}),r.a.createElement("input",{type:"text",name:"gremlinServerUrl",placeholder:"http://127.0.0.1:8000/graphql"}),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("button",{className:"extra-headers-btn",type:"button",onClick:this.toggleMoreOptions.bind(this)},"http headers ",r.a.createElement(X.a,{icon:Z.a}))),this.state.showExtraHeaderOptions?r.a.createElement("div",{className:"headersList"},r.a.createElement("h4",null,"Extra HTTP Headers"),t.map((function(t){return r.a.createElement("div",{key:t,className:"headerItem headerItem-"+t},r.a.createElement("input",{type:"text",className:"headerKey",placeholder:"header key",name:"headerKey"}),r.a.createElement("input",{type:"text",className:"headerValue",placeholder:"header value",name:"headerValue"}),r.a.createElement("button",{type:"button",onClick:e.removeHeader.bind(e)},r.a.createElement(X.a,{icon:Z.z})))})),r.a.createElement("p",null,r.a.createElement("button",{type:"button",onClick:this.addNewHeader.bind(this)}," + add new header"))):r.a.createElement("span",null),r.a.createElement("button",{type:"submit",className:"primary-btn button"},"Connect"),r.a.createElement("button",{onClick:function(){return e.openDemo()},type:"button",className:" button secondary-btn ml-10"},r.a.createElement(X.a,{icon:Z.q})," watch demo")),this.state.errorMessage?r.a.createElement("p",null,r.a.createElement("small",{className:"errorMessage"},this.state.errorMessage)):r.a.createElement("span",null),r.a.createElement("p",{style:{marginTop:"1rem"}},r.a.createElement("a",{href:"https://invana.io/help.html"},"How to setup Invana Engine"),"\xa0 | \xa0 ",r.a.createElement("a",{href:"https://invana.io/help.html"},"Help"))))),r.a.createElement("p",{className:"built-with"},r.a.createElement("small",null,"Built with love for Humans & Innovations at ",r.a.createElement("a",{className:"selected",target:"_blank",rel:"noopener noreferrer",href:"https://invana.io"},"Invana"))))}}]),n}(r.a.Component)),tt=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(v.g)(),Object(v.b)(),window.location.href="/",r.a.createElement("span",null,"switching server...")}}]),n}(r.a.Component),nt=n(81),at=n(21),rt=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(nt.a,null,r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",{style:{color:"white"}},"Loading...")},r.a.createElement(at.c,null,r.a.createElement(at.a,{exact:!0,path:"/",component:J}),r.a.createElement(at.a,{exact:!0,path:"/explorer",component:Ze}),r.a.createElement(at.a,{exact:!0,path:"/connect",component:et}),r.a.createElement(at.a,{exact:!0,path:"/switch-server",component:tt}),r.a.createElement(at.a,{component:$e}))))}}]),n}(r.a.Component);n(157);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(rt,null)),document.getElementById("root"))}],[[104,1,2]]]);
//# sourceMappingURL=main.0b02f5b9.chunk.js.map